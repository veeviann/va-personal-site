<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vivian Chew">
<meta name="dcterms.date" content="2025-03-09">

<title>Exercise 02 - Be Tradewise or Otherwise – VVA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-1cc56b66eba605203cf9616d8c55c428.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../site_libs/d3-bundle-5.16.0/d3-bundle.min.js"></script>
<script src="../site_libs/d3-lasso-0.0.5/d3-lasso.min.js"></script>
<script src="../site_libs/save-svg-as-png-1.4.17/save-svg-as-png.min.js"></script>
<script src="../site_libs/flatbush-4.4.0/flatbush.min.js"></script>
<link href="../site_libs/ggiraphjs-0.8.10/ggiraphjs.min.css" rel="stylesheet">
<script src="../site_libs/ggiraphjs-0.8.10/ggiraphjs.min.js"></script>
<script src="../site_libs/girafe-binding-0.8.12/girafe.js"></script>
<script src="../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">VVA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../hands-on/week01.html">
 <span class="dropdown-text">Week 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../hands-on/week02.html">
 <span class="dropdown-text">Week 02</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../hands-on/week03.html">
 <span class="dropdown-text">Week 03</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../hands-on/week04.html">
 <span class="dropdown-text">Week 04</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../hands-on/week05.html">
 <span class="dropdown-text">Week 05</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../hands-on/week07.html">
 <span class="dropdown-text">Week 07</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../take-home/exercise01.html">
 <span class="dropdown-text">Exercise 01</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../take-home/exercise02.html">
 <span class="dropdown-text">Exercise 02</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="../in-class/exercise04.html">
 <span class="dropdown-text">Exercise 04</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../in-class/exercise05.html">
 <span class="dropdown-text">Exercise 05</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../in-class/exercise07.html">
 <span class="dropdown-text">Exercise 07</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> <i class="bi bi-house-fill" role="img">
</i> 
<span class="menu-text"> </span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">1 Overview</a>
  <ul class="collapse">
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background">1.1 Background</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives">1.2 Objectives</a>
  <ul class="collapse">
  <li><a href="#data-visualization-makeover" id="toc-data-visualization-makeover" class="nav-link" data-scroll-target="#data-visualization-makeover">1.2.1 Data Visualization Makeover</a></li>
  <li><a href="#time-series-analysis" id="toc-time-series-analysis" class="nav-link" data-scroll-target="#time-series-analysis">1.2.2 Time-Series Analysis</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">2 Getting Started</a>
  <ul class="collapse">
  <li><a href="#relevant-libraries" id="toc-relevant-libraries" class="nav-link" data-scroll-target="#relevant-libraries">2.1 Relevant Libraries</a></li>
  <li><a href="#data-source" id="toc-data-source" class="nav-link" data-scroll-target="#data-source">2.2 Data Source</a></li>
  </ul></li>
  <li><a href="#data-visualization-makeover-1" id="toc-data-visualization-makeover-1" class="nav-link" data-scroll-target="#data-visualization-makeover-1">3 Data Visualization Makeover</a>
  <ul class="collapse">
  <li><a href="#selection-of-the-plots" id="toc-selection-of-the-plots" class="nav-link" data-scroll-target="#selection-of-the-plots">3.1 Selection of The Plots</a></li>
  <li><a href="#first-makeover" id="toc-first-makeover" class="nav-link" data-scroll-target="#first-makeover">3.2. First Makeover</a>
  <ul class="collapse">
  <li><a href="#the-original" id="toc-the-original" class="nav-link" data-scroll-target="#the-original">The Original</a></li>
  <li><a href="#the-makeover" id="toc-the-makeover" class="nav-link" data-scroll-target="#the-makeover">The Makeover</a></li>
  </ul></li>
  <li><a href="#second-makeover" id="toc-second-makeover" class="nav-link" data-scroll-target="#second-makeover">3.2 Second Makeover</a>
  <ul class="collapse">
  <li><a href="#the-original-1" id="toc-the-original-1" class="nav-link" data-scroll-target="#the-original-1">The Original</a></li>
  </ul></li>
  <li><a href="#third-makeover" id="toc-third-makeover" class="nav-link" data-scroll-target="#third-makeover">3.3 Third Makeover</a>
  <ul class="collapse">
  <li><a href="#the-original-2" id="toc-the-original-2" class="nav-link" data-scroll-target="#the-original-2">The Original</a></li>
  <li><a href="#the-makeover-1" id="toc-the-makeover-1" class="nav-link" data-scroll-target="#the-makeover-1">The Makeover</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#time-series-analysis-1" id="toc-time-series-analysis-1" class="nav-link" data-scroll-target="#time-series-analysis-1">4 Time Series Analysis</a>
  <ul class="collapse">
  <li><a href="#data-processing-exploration" id="toc-data-processing-exploration" class="nav-link" data-scroll-target="#data-processing-exploration">4.1 Data Processing &amp; Exploration</a></li>
  <li><a href="#time-series-patterns---by-trade-regions" id="toc-time-series-patterns---by-trade-regions" class="nav-link" data-scroll-target="#time-series-patterns---by-trade-regions">4.2 Time Series Patterns - By Trade Regions</a></li>
  <li><a href="#seasonal-plots" id="toc-seasonal-plots" class="nav-link" data-scroll-target="#seasonal-plots">4.2 Seasonal Plots</a></li>
  <li><a href="#scatterplots" id="toc-scatterplots" class="nav-link" data-scroll-target="#scatterplots">4.3 Scatterplots</a></li>
  <li><a href="#lag-plots" id="toc-lag-plots" class="nav-link" data-scroll-target="#lag-plots">4.4 Lag plots</a></li>
  <li><a href="#stl-decomposition" id="toc-stl-decomposition" class="nav-link" data-scroll-target="#stl-decomposition">4.5 STL Decomposition</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">4.6 Conclusion</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">5 References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercise 02 - Be Tradewise or Otherwise</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vivian Chew </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 9, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">March 10, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="overview" class="level1">
<h1>1 Overview</h1>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">1.1 Background</h2>
<p>Since Mr.&nbsp;Donald Trump took office as the President of the United States on January 20, 2025, global trade has come under intense scrutiny. His administration’s tariff policies, first implemented in 2019, particularly on goods such as steel and appliances, had significant ripple effects on international trade patterns. After assuming office in 2025, Trump introduced a second round of tariffs, further impacting global markets.</p>
<p>These policies are expected to affect merchandise trade more significantly than services trade, as tariffs primarily target physical goods rather than intangible services. Understanding how Singapore’s trade has evolved since 2015 requires both data visualization and time-series analysis. By leveraging analytical techniques in R, this project aims to uncover trade trends, identify key shifts, and assess the broader impact of Trump’s trade policies on Singapore’s major trade partners and sectors.</p>
</section>
<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">1.2 Objectives</h2>
<p>Singapore reports its trade data in two key categories:</p>
<ul>
<li>Services trade: Transactions involving transport, finance, business services, and digital trade.</li>
<li>Merchandise trade: The exchange of physical goods such as machinery, electronics, and raw materials.</li>
</ul>
<section id="data-visualization-makeover" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization-makeover">1.2.1 Data Visualization Makeover</h3>
<p>This section will evaluate and improve three visualizations from the <strong>services trade dataset</strong>. The decision to focus on services trade for visualization critique is based on the following reasons:</p>
<ul>
<li>The services and merchandise trade datasets share similar visualization structures, meaning insights gained from one can be applied to the other.</li>
<li>The services trade dataset is annual, making it less suitable for time-series modeling but still valuable for visual storytelling.</li>
<li>A services trade focus ensures a cohesive critique and makeover.</li>
</ul>
<p>Each visualization will be critiqued for its strengths and weaknesses and redesigned using ggplot2 and other R packages to enhance clarity and interpretability.</p>
</section>
<section id="time-series-analysis" class="level3">
<h3 class="anchored" data-anchor-id="time-series-analysis">1.2.2 Time-Series Analysis</h3>
<p>The <strong>merchandise trade dataset</strong>, which provides monthly trade data, is more appropriate for time-series analysis and modeling. Since Trump’s tariffs primarily target physical goods, analyzing merchandise trade allows us to better understand their impact on Singapore’s trade patterns over time. This analysis will focus on:</p>
<ul>
<li>Singapore’s top 10 trading partners, with a particular emphasis on China, South Korea, and Australia, as these countries were directly affected by Trump’s tariffs.</li>
<li>The top five merchandise trade categories, along with appliances and steel materials, which were explicitly targeted by U.S. tariffs.</li>
</ul>
</section>
</section>
</section>
<section id="getting-started" class="level1">
<h1>2 Getting Started</h1>
<section id="relevant-libraries" class="level2">
<h2 class="anchored" data-anchor-id="relevant-libraries">2.1 Relevant Libraries</h2>
<div class="cell">
<details class="code-fold">
<summary>Loading the relevant packages</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  colorspace,   <span class="co"># Advanced color palettes</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  fpp3,         <span class="co"># Time series analysis</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  fracdiff,     <span class="co"># Fractionally differenced ARIMA models</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  geofacet,     <span class="co"># Geofaceted visualizations</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  GGally,       <span class="co"># Extensions to ggplot2, including pairwise plots</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  ggalt,        <span class="co"># Alternative geoms (e.g., xspline for smooth edges)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  ggh4x,        <span class="co"># Enhancements for ggplot2 (e.g., stat_difference for filled areas)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  ggiraph,      <span class="co"># Interactive ggplot2 visualizations</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  ggstream,     <span class="co"># Stream plots</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  glue,         <span class="co"># String interpolation and manipulation</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  knitr,        <span class="co"># Dynamic report generation with R Markdown</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  lubridate,    <span class="co"># Date and time handling</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  patchwork,    <span class="co"># Combining multiple ggplot2 plots</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  plotly,       <span class="co"># Interactive plots</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  readxl,       <span class="co"># Reading Excel files</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  tidyverse,    <span class="co"># Data manipulation and visualization</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  urca,         <span class="co"># Unit root and cointegration tests</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  zoo           <span class="co"># Rolling mean and time series operations</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<table class="caption-top table">
<colgroup>
<col style="width: 15%">
<col style="width: 84%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Package</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>colorspace</strong></td>
<td>Provides advanced color palettes and manipulation tools for visualizations.</td>
</tr>
<tr class="even">
<td><strong>fpp3</strong></td>
<td>A collection of tools for time series analysis and forecasting.</td>
</tr>
<tr class="odd">
<td><strong>fracdiff</strong></td>
<td>Implements fractionally differenced ARIMA models for time series.</td>
</tr>
<tr class="even">
<td><strong>geofacet</strong></td>
<td>Creates geofaceted visualizations for spatial data.</td>
</tr>
<tr class="odd">
<td><strong>GGally</strong></td>
<td>Enhances ggplot2 with extensions like pairwise plots (GGpairs).</td>
</tr>
<tr class="even">
<td><strong>ggalt</strong></td>
<td>Provides alternative geoms, including xspline for smoother line edges.</td>
</tr>
<tr class="odd">
<td><strong>ggh4x</strong></td>
<td>Extends ggplot2 with additional features like stat_difference for filled areas.</td>
</tr>
<tr class="even">
<td><strong>ggiraph</strong></td>
<td>Enables interactive ggplot2 visualizations with tooltips and hover effects.</td>
</tr>
<tr class="odd">
<td><strong>ggstream</strong></td>
<td>Generates stream plots to visualize time-based category proportions.</td>
</tr>
<tr class="even">
<td><strong>glue</strong></td>
<td>Provides an easy way to interpolate and manipulate strings.</td>
</tr>
<tr class="odd">
<td><strong>knitr</strong></td>
<td>Facilitates dynamic report generation, especially with R Markdown.</td>
</tr>
<tr class="even">
<td><strong>lubridate</strong></td>
<td>Simplifies working with dates and times in R.</td>
</tr>
<tr class="odd">
<td><strong>patchwork</strong></td>
<td>Makes it easy to combine multiple ggplot2 plots into a single layout.</td>
</tr>
<tr class="even">
<td><strong>plotly</strong></td>
<td>Converts ggplot2 plots into interactive visualizations.</td>
</tr>
<tr class="odd">
<td><strong>readxl</strong></td>
<td>Reads Excel files into R efficiently.</td>
</tr>
<tr class="even">
<td><strong>tidyverse</strong></td>
<td>A collection of packages for data manipulation, visualization, and analysis.</td>
</tr>
<tr class="odd">
<td><strong>urca</strong></td>
<td>Performs unit root and cointegration tests for time series analysis.</td>
</tr>
<tr class="even">
<td><strong>zoo</strong></td>
<td>Provides functions for rolling means and time series operations.</td>
</tr>
</tbody>
</table>
</section>
<section id="data-source" class="level2">
<h2 class="anchored" data-anchor-id="data-source">2.2 Data Source</h2>
<p>The data was retrieved from SingStat on 1st March 2025. - <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">Merchandise Trade</a> - <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/trade-in-services/latest-data">Trade in Services</a></p>
</section>
</section>
<section id="data-visualization-makeover-1" class="level1">
<h1>3 Data Visualization Makeover</h1>
<section id="selection-of-the-plots" class="level2">
<h2 class="anchored" data-anchor-id="selection-of-the-plots">3.1 Selection of The Plots</h2>
<p>As previously mentioned, I have chosen the plots based on the dataset and will provide recommendations for improving the three plots from the trade service dataset. In this makeover, I aim to preserve the original message or story the designer intended to convey, while enhancing clarity by altering the way the data is presented.</p>
</section>
<section id="first-makeover" class="level2">
<h2 class="anchored" data-anchor-id="first-makeover">3.2. First Makeover</h2>
<section id="the-original" class="level3">
<h3 class="anchored" data-anchor-id="the-original">The Original</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ref_viz/viz1.png" class="img-fluid figure-img"></p>
<figcaption>Fig 1a. The first figure we will be making over is a bar chart</figcaption>
</figure>
</div>
<p>The pros of the plot are that the vertical bars make it easy to see that both exports and imports have grown over time (as opposed to horizontal bars). Additionally, the totals are highlighted for each year, making the exact numbers accessible. Finally, they included additional information at the bottom is helpful to briefly mention about the trend, which may be helpful.</p>
<p>However, each year has a different color, but the same distinction could be achieved with just two colors (one for exports, one for imports). The current scheme is visually appealing but distracting. Morever, since exports and imports alternate, it’s difficult to directly compare them across years. A faceted barplot may have been better. Finally, the trade balance is not immediately clear - we have to mentally subtract imports from exports to see the trade surplus.</p>
<p>Therefore, my suggestion would be to create a line chart inspired from William Playfair’s trade-balance time-series chart.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ref_viz/sugviz1.png" class="img-fluid figure-img"></p>
<figcaption>Fig 1b. Suggested Visualization - To annotate the graph to show the trend clearly, and to make the graph interactive so we can obtain the values.</figcaption>
</figure>
</div>
</section>
<section id="the-makeover" class="level3">
<h3 class="anchored" data-anchor-id="the-makeover">The Makeover</h3>
<div class="cell">
<details class="code-fold">
<summary>Loading the data</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>svc_trade <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/sg_svc_trade_by_category.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>svc_trade_long <span class="ot">&lt;-</span> svc_trade <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">Category Name</span><span class="st">`</span>, <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>),  <span class="co"># Exclude identifier columns</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Year"</span>,                                           <span class="co"># New column for year</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"SGD (Million)"</span>                                 <span class="co"># New column for values</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(<span class="fu">as.Date</span>(<span class="fu">paste0</span>(Year, <span class="st">"-01-01"</span>))))  <span class="co"># Convert Year to Date</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>svc_trade_annual <span class="ot">&lt;-</span> svc_trade_long <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>, Year) <span class="sc">%&gt;%</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Billion =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">SGD (Million)</span><span class="st">`</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>, <span class="at">values_from =</span> Total_Billion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Calcuate CAGR</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>calculate_cagr <span class="ot">&lt;-</span> <span class="cf">function</span>(start, end, n) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  cagr <span class="ot">&lt;-</span> (end <span class="sc">/</span> start)<span class="sc">^</span>(<span class="dv">1</span> <span class="sc">/</span> n) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (<span class="fu">round</span>(cagr <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>yi_start <span class="ot">=</span> svc_trade_annual<span class="sc">$</span>Import[svc_trade_annual<span class="sc">$</span>Year <span class="sc">==</span> <span class="dv">2020</span>]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>yi_end <span class="ot">=</span> svc_trade_annual<span class="sc">$</span>Import[svc_trade_annual<span class="sc">$</span>Year <span class="sc">==</span> <span class="dv">2024</span>]</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>ye_start <span class="ot">=</span> svc_trade_annual<span class="sc">$</span>Export[svc_trade_annual<span class="sc">$</span>Year <span class="sc">==</span> <span class="dv">2020</span>]</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>ye_end <span class="ot">=</span> svc_trade_annual<span class="sc">$</span>Export[svc_trade_annual<span class="sc">$</span>Year <span class="sc">==</span> <span class="dv">2024</span>]</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>import_cagr <span class="ot">&lt;-</span> <span class="fu">calculate_cagr</span>(yi_start, yi_end, <span class="dv">2024</span> <span class="sc">-</span> <span class="dv">2020</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>export_cagr <span class="ot">&lt;-</span> <span class="fu">calculate_cagr</span>(ye_start, ye_end, <span class="dv">2024</span> <span class="sc">-</span> <span class="dv">2020</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plot the graph with ggigraph</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspired from https://r-graph-gallery.com/web-time-series-and-facetting.html </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>export_colour <span class="ot">&lt;-</span> <span class="st">"#73ad00"</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>import_colour <span class="ot">&lt;-</span> <span class="st">"#3883c9"</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> svc_trade_annual <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2009</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>wrapped_subtitle <span class="ot">&lt;-</span> <span class="fu">str_wrap</span>(</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"The areas highlight which aspect is in surplus. Both imports and exports have an increasing overall trend. In 2017, the amount of exports overtook the amount of imports."</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">80</span>  <span class="co"># Adjust the width as needed</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> Year)) <span class="sc">+</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Import, </span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> <span class="st">"Imports"</span>, </span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                             <span class="at">tooltip =</span> <span class="fu">sprintf</span>(<span class="st">"Year: %s</span><span class="sc">\n</span><span class="st"> Import: %.1f</span><span class="sc">\n</span><span class="st"> Export: %.1f </span><span class="sc">\n</span><span class="st">Trade Balance: %.1f </span><span class="sc">\n</span><span class="st">Total Trade: %.1f"</span>,   Year, Import, Export, Export <span class="sc">-</span> Import, Export <span class="sc">+</span> Import),</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                             <span class="at">data_id =</span> Import),</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fl">0.01</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                         <span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Export, </span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> <span class="st">"Exports"</span>, </span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">tooltip =</span> <span class="fu">sprintf</span>(<span class="st">"Year: %s</span><span class="sc">\n</span><span class="st"> Import: %.1f</span><span class="sc">\n</span><span class="st"> Export: %.1f </span><span class="sc">\n</span><span class="st">Trade Balance: %.1f </span><span class="sc">\n</span><span class="st">Total Trade: %.1f"</span>,   Year, Import, Export, Export <span class="sc">-</span> Import, Export <span class="sc">+</span> Import),</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>                             <span class="at">data_id =</span> Import),</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fl">0.01</span>,</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>                         <span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Import, <span class="at">color =</span> <span class="st">"Imports"</span>),</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">stat =</span> StatXspline,</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">spline_shape =</span> <span class="sc">-</span><span class="fl">0.4</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">+</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Export, <span class="at">color =</span> <span class="st">"Exports"</span>),</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>            <span class="at">stat =</span> StatXspline,</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>            <span class="at">spline_shape =</span> <span class="sc">-</span><span class="fl">0.4</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">+</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># stat_difference() from ggh4x package applies the conditional fill</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># based on which of Not_Cat and Cat is larger.</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_difference</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Import, <span class="at">ymax =</span> Export), <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(export_colour, import_colour)) <span class="sc">+</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>      colorspace<span class="sc">::</span><span class="fu">lighten</span>(export_colour), </span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>      colorspace<span class="sc">::</span><span class="fu">lighten</span>(import_colour), </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>      <span class="st">"grey60"</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"More Exports"</span>, <span class="st">"More Imports"</span>, <span class="st">"Equal"</span>)) <span class="sc">+</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2009</span>, <span class="dv">2025</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">600</span>)) <span class="sc">+</span>  <span class="co"># Set axis limits</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2010</span>, <span class="dv">2024</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">600</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Annotate CAGR</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"curve"</span>, </span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2020.5</span>, <span class="at">y =</span> ye_start <span class="sc">+</span> <span class="dv">80</span>, <span class="at">xend =</span> <span class="dv">2024</span>, <span class="at">yend =</span> ye_end <span class="sc">+</span> <span class="dv">30</span>, </span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span>, </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"mm"</span>)),</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> export_colour,</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2018.2</span>, <span class="at">y =</span> ye_end <span class="sc">+</span> <span class="dv">15</span>, </span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">strwrap</span>(<span class="fu">sprintf</span>(<span class="st">"Export CAGR increased by %.1f%% from 2020 to 2024"</span>, export_cagr), </span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>                    <span class="at">width =</span> <span class="dv">20</span>), <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>),</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> export_colour) <span class="sc">+</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"curve"</span>, </span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2020.5</span>, <span class="at">y =</span> yi_start <span class="sc">-</span> <span class="dv">20</span>, <span class="at">xend =</span> <span class="dv">2024</span>, <span class="at">yend =</span> yi_end <span class="sc">-</span> <span class="dv">30</span>, </span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="fl">0.2</span>, </span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"mm"</span>)),</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> import_colour</span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2021.5</span>, <span class="at">y =</span> yi_start <span class="sc">-</span> <span class="dv">53</span>, </span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">strwrap</span>(<span class="fu">sprintf</span>(<span class="st">"Import CAGR increased by %.1f%% from 2020 to 2024"</span>, import_cagr), </span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>                    <span class="at">width =</span> <span class="dv">20</span>), <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>),</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> import_colour) <span class="sc">+</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Overall Exports and Imports of Services (2010-2024)"</span>,</span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> wrapped_subtitle,</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Singstat.gov.sg | Graphic: Vivian Chew"</span>,</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"S$ Billion"</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Helvetica Neue"</span>) <span class="sc">+</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Top-right position</span></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>    <span class="co"># legend.pos = c(0.875, 0.975),</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Elements within a guide are placed one next to the other in the same row</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Different guides are stacked vertically</span></span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.box =</span> <span class="st">"horizontal"</span>,</span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No legend title</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Light background color</span></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>    <span class="co"># plot.background = element_rect(fill = "#e2e1dc", color = NA),</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">30</span>),</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Customize the title. Note the new font family and its larger size.</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(</span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Helvetica Neue"</span>, </span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>      <span class="at">face =</span> <span class="st">"bold"</span>, </span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>      <span class="at">vjust =</span> <span class="dv">1</span>, </span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"grey25"</span></span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove titles for x and y axes.</span></span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify color for the tick labels along both axes </span></span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"grey40"</span>),</span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify face and color for the text on top of each panel/facet</span></span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"grey20"</span>)</span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a><span class="co"># Unfortunately the girafe object doesn't render on the Quarto HTML (but it works if I run on the cell, so it's very strange)</span></span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a><span class="co"># girafe(ggobj = p,</span></span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a><span class="co">#       width_svg = 8,</span></span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a><span class="co">#       height_svg = 6)</span></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Unfortunately, the girafe object doesn’t render on the Quarto HTML (but it works if I run on the cell, so it’s very strange). This is because of the spline plot. I did not manage to rectify this issue so the plot above will be a static plot instead. The plot below will be the interactive one. It shows the same thing just that the line is not “smooth”.</p>
<div class="cell">
<details class="code-fold">
<summary>Plot the graph with ggigraph - no spline</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspired from https://r-graph-gallery.com/web-time-series-and-facetting.html </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>export_colour <span class="ot">&lt;-</span> <span class="st">"#73ad00"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>import_colour <span class="ot">&lt;-</span> <span class="st">"#3883c9"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> svc_trade_annual <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2009</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>wrapped_subtitle <span class="ot">&lt;-</span> <span class="fu">str_wrap</span>(</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"The areas highlight which aspect is in surplus. Both imports and exports have an increasing overall trend. In 2017, the amount of exports overtook the amount of imports."</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">80</span>  <span class="co"># Adjust the width as needed</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(df, <span class="fu">aes</span>(<span class="at">x =</span> Year)) <span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Import, </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> <span class="st">"Imports"</span>, </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>                             <span class="at">tooltip =</span> <span class="fu">sprintf</span>(<span class="st">"Year: %s</span><span class="sc">\n</span><span class="st"> Import: %.1f</span><span class="sc">\n</span><span class="st"> Export: %.1f </span><span class="sc">\n</span><span class="st">Trade Balance: %.1f </span><span class="sc">\n</span><span class="st">Total Trade: %.1f"</span>,   Year, Import, Export, Export <span class="sc">-</span> Import, Export <span class="sc">+</span> Import),</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                             <span class="at">data_id =</span> Import),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fl">0.01</span>,</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                         <span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point_interactive</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, <span class="at">y =</span> Export, </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>                             <span class="at">color =</span> <span class="st">"Exports"</span>, </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                             <span class="at">tooltip =</span> <span class="fu">sprintf</span>(<span class="st">"Year: %s</span><span class="sc">\n</span><span class="st"> Import: %.1f</span><span class="sc">\n</span><span class="st"> Export: %.1f </span><span class="sc">\n</span><span class="st">Trade Balance: %.1f </span><span class="sc">\n</span><span class="st">Total Trade: %.1f"</span>,   Year, Import, Export, Export <span class="sc">-</span> Import, Export <span class="sc">+</span> Import),</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                             <span class="at">data_id =</span> Import),</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fl">0.01</span>,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>                         <span class="at">hover_nearest =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Import, <span class="at">color =</span> <span class="st">"Imports"</span>),</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">spline_shape =</span> <span class="sc">-</span><span class="fl">0.4</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">+</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Export, <span class="at">color =</span> <span class="st">"Exports"</span>),</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>            <span class="at">spline_shape =</span> <span class="sc">-</span><span class="fl">0.4</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>            ) <span class="sc">+</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># stat_difference() from ggh4x package applies the conditional fill</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># based on which of Not_Cat and Cat is larger.</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_difference</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> Import, <span class="at">ymax =</span> Export), <span class="at">alpha =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(export_colour, import_colour)) <span class="sc">+</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>      colorspace<span class="sc">::</span><span class="fu">lighten</span>(export_colour), </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>      colorspace<span class="sc">::</span><span class="fu">lighten</span>(import_colour), </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>      <span class="st">"grey60"</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"More Exports"</span>, <span class="st">"More Imports"</span>, <span class="st">"Equal"</span>)) <span class="sc">+</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2009</span>, <span class="dv">2025</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">600</span>)) <span class="sc">+</span>  <span class="co"># Set axis limits</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2010</span>, <span class="dv">2024</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">600</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Annotate CAGR</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"curve"</span>, </span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2020.5</span>, <span class="at">y =</span> ye_start <span class="sc">+</span> <span class="dv">80</span>, <span class="at">xend =</span> <span class="dv">2024</span>, <span class="at">yend =</span> ye_end <span class="sc">+</span> <span class="dv">30</span>, </span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="sc">-</span><span class="fl">0.3</span>, </span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"mm"</span>)),</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> export_colour,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2018.2</span>, <span class="at">y =</span> ye_end <span class="sc">+</span> <span class="dv">15</span>, </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">strwrap</span>(<span class="fu">sprintf</span>(<span class="st">"Export CAGR increased by %.1f%% from 2020 to 2024"</span>, export_cagr), </span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>                    <span class="at">width =</span> <span class="dv">20</span>), <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>),</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> export_colour) <span class="sc">+</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"curve"</span>, </span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2020.5</span>, <span class="at">y =</span> yi_start <span class="sc">-</span> <span class="dv">20</span>, <span class="at">xend =</span> <span class="dv">2024</span>, <span class="at">yend =</span> yi_end <span class="sc">-</span> <span class="dv">30</span>, </span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>    <span class="at">curvature =</span> <span class="fl">0.2</span>, </span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="dv">2</span>, <span class="st">"mm"</span>)),</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> import_colour</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> <span class="st">"text"</span>, </span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fl">2021.5</span>, <span class="at">y =</span> yi_start <span class="sc">-</span> <span class="dv">53</span>, </span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">label =</span> <span class="fu">paste</span>(<span class="fu">strwrap</span>(<span class="fu">sprintf</span>(<span class="st">"Import CAGR increased by %.1f%% from 2020 to 2024"</span>, import_cagr), </span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>                    <span class="at">width =</span> <span class="dv">20</span>), <span class="at">collapse =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>),</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> import_colour) <span class="sc">+</span></span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Overall Exports and Imports of Services (2010-2024)"</span>,</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> wrapped_subtitle,</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Source: Singstat.gov.sg | Graphic: Vivian Chew"</span>,</span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"S$ Billion"</span></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Helvetica Neue"</span>) <span class="sc">+</span></span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Top-right position</span></span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>    <span class="co"># legend.pos = c(0.875, 0.975),</span></span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Elements within a guide are placed one next to the other in the same row</span></span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Different guides are stacked vertically</span></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.box =</span> <span class="st">"horizontal"</span>,</span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No legend title</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Light background color</span></span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>    <span class="co"># plot.background = element_rect(fill = "#e2e1dc", color = NA),</span></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">30</span>),</span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Customize the title. Note the new font family and its larger size.</span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(</span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>      <span class="at">margin =</span> <span class="fu">margin</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), </span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">14</span>, </span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>      <span class="at">family =</span> <span class="st">"Helvetica Neue"</span>, </span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>      <span class="at">face =</span> <span class="st">"bold"</span>, </span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>      <span class="at">vjust =</span> <span class="dv">1</span>, </span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">"grey25"</span></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.caption =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">8</span>),</span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Remove titles for x and y axes.</span></span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify color for the tick labels along both axes </span></span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"grey40"</span>),</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Specify face and color for the text on top of each panel/facet</span></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"grey20"</span>)</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a><span class="fu">girafe</span>(<span class="at">ggobj =</span> p,</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>      <span class="at">width_svg =</span> <span class="dv">8</span>,</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>      <span class="at">height_svg =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="girafe html-widget html-fill-item" id="htmlwidget-04307fe2c15335be5585" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-04307fe2c15335be5585">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_6965439b_276f_46d2_8579_7c27e0af8187' viewBox='0 0 576 432'>\n <defs id='svg_6965439b_276f_46d2_8579_7c27e0af8187_defs'>\n  <clipPath id='svg_6965439b_276f_46d2_8579_7c27e0af8187_c1'>\n   <rect x='0' y='0' width='576' height='432'/>\n  <\/clipPath>\n  <clipPath id='svg_6965439b_276f_46d2_8579_7c27e0af8187_c2'>\n   <rect x='62.38' y='72.23' width='483.73' height='257.46'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_6965439b_276f_46d2_8579_7c27e0af8187_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_6965439b_276f_46d2_8579_7c27e0af8187_c1)'>\n   <rect x='0' y='0' width='576' height='432' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n  <\/g>\n  <g clip-path='url(#svg_6965439b_276f_46d2_8579_7c27e0af8187_c2)'>\n   <polyline points='62.38,298.48 546.11,298.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,259.48 546.11,259.48' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,220.47 546.11,220.47' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,181.46 546.11,181.46' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,142.45 546.11,142.45' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,103.44 546.11,103.44' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='180.56,329.69 180.56,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='317.99,329.69 317.99,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='455.41,329.69 455.41,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='524.12,329.69 524.12,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,317.99 546.11,317.99' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,278.98 546.11,278.98' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,239.97 546.11,239.97' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,200.96 546.11,200.96' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,161.95 546.11,161.95' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,122.94 546.11,122.94' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='62.38,83.94 546.11,83.94' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='111.85,329.69 111.85,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='249.27,329.69 249.27,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='386.70,329.69 386.70,72.23' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e1' cx='111.85' cy='264.52' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2010&amp;lt;br/&amp;gt; Import: 137.1&amp;lt;br/&amp;gt; Export: 136.9 &amp;lt;br/&amp;gt;Trade Balance: -0.2 &amp;lt;br/&amp;gt;Total Trade: 273.9' data-id='137.0574' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e2' cx='139.34' cy='260.17' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2011&amp;lt;br/&amp;gt; Import: 148.2&amp;lt;br/&amp;gt; Export: 150.0 &amp;lt;br/&amp;gt;Trade Balance: 1.8 &amp;lt;br/&amp;gt;Total Trade: 298.2' data-id='148.2148' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e3' cx='166.82' cy='253.2' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2012&amp;lt;br/&amp;gt; Import: 166.1&amp;lt;br/&amp;gt; Export: 161.8 &amp;lt;br/&amp;gt;Trade Balance: -4.3 &amp;lt;br/&amp;gt;Total Trade: 327.9' data-id='166.0971' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e4' cx='194.31' cy='244.91' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2013&amp;lt;br/&amp;gt; Import: 187.3&amp;lt;br/&amp;gt; Export: 177.7 &amp;lt;br/&amp;gt;Trade Balance: -9.6 &amp;lt;br/&amp;gt;Total Trade: 365.1' data-id='187.3357' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e5' cx='221.79' cy='235.61' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2014&amp;lt;br/&amp;gt; Import: 211.2&amp;lt;br/&amp;gt; Export: 194.8 &amp;lt;br/&amp;gt;Trade Balance: -16.3 &amp;lt;br/&amp;gt;Total Trade: 406.0' data-id='211.1776' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e6' cx='249.27' cy='231.27' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2015&amp;lt;br/&amp;gt; Import: 222.3&amp;lt;br/&amp;gt; Export: 210.6 &amp;lt;br/&amp;gt;Trade Balance: -11.7 &amp;lt;br/&amp;gt;Total Trade: 432.9' data-id='222.2996' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e7' cx='276.76' cy='232.45' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2016&amp;lt;br/&amp;gt; Import: 219.3&amp;lt;br/&amp;gt; Export: 211.8 &amp;lt;br/&amp;gt;Trade Balance: -7.4 &amp;lt;br/&amp;gt;Total Trade: 431.1' data-id='219.2735' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e8' cx='304.24' cy='219.77' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2017&amp;lt;br/&amp;gt; Import: 251.8&amp;lt;br/&amp;gt; Export: 241.6 &amp;lt;br/&amp;gt;Trade Balance: -10.2 &amp;lt;br/&amp;gt;Total Trade: 493.4' data-id='251.7858' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e9' cx='331.73' cy='211.05' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2018&amp;lt;br/&amp;gt; Import: 274.1&amp;lt;br/&amp;gt; Export: 287.1 &amp;lt;br/&amp;gt;Trade Balance: 13.0 &amp;lt;br/&amp;gt;Total Trade: 561.3' data-id='274.1296' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e10' cx='359.21' cy='206.58' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2019&amp;lt;br/&amp;gt; Import: 285.6&amp;lt;br/&amp;gt; Export: 307.2 &amp;lt;br/&amp;gt;Trade Balance: 21.6 &amp;lt;br/&amp;gt;Total Trade: 592.8' data-id='285.6084' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e11' cx='386.7' cy='204.85' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2020&amp;lt;br/&amp;gt; Import: 290.0&amp;lt;br/&amp;gt; Export: 300.0 &amp;lt;br/&amp;gt;Trade Balance: 10.0 &amp;lt;br/&amp;gt;Total Trade: 590.0' data-id='290.0305' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e12' cx='414.18' cy='188.25' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2021&amp;lt;br/&amp;gt; Import: 332.6&amp;lt;br/&amp;gt; Export: 382.5 &amp;lt;br/&amp;gt;Trade Balance: 49.9 &amp;lt;br/&amp;gt;Total Trade: 715.1' data-id='332.6011' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e13' cx='441.67' cy='158.42' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2022&amp;lt;br/&amp;gt; Import: 409.1&amp;lt;br/&amp;gt; Export: 468.2 &amp;lt;br/&amp;gt;Trade Balance: 59.1 &amp;lt;br/&amp;gt;Total Trade: 877.3' data-id='409.062' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e14' cx='469.15' cy='147.09' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2023&amp;lt;br/&amp;gt; Import: 438.1&amp;lt;br/&amp;gt; Export: 481.0 &amp;lt;br/&amp;gt;Trade Balance: 42.9 &amp;lt;br/&amp;gt;Total Trade: 919.1' data-id='438.1078' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e15' cx='496.64' cy='134.97' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2024&amp;lt;br/&amp;gt; Import: 469.2&amp;lt;br/&amp;gt; Export: 528.6 &amp;lt;br/&amp;gt;Trade Balance: 59.4 &amp;lt;br/&amp;gt;Total Trade: 997.7' data-id='469.1815' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e16' cx='111.85' cy='264.6' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2010&amp;lt;br/&amp;gt; Import: 137.1&amp;lt;br/&amp;gt; Export: 136.9 &amp;lt;br/&amp;gt;Trade Balance: -0.2 &amp;lt;br/&amp;gt;Total Trade: 273.9' data-id='137.0574' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e17' cx='139.34' cy='259.47' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2011&amp;lt;br/&amp;gt; Import: 148.2&amp;lt;br/&amp;gt; Export: 150.0 &amp;lt;br/&amp;gt;Trade Balance: 1.8 &amp;lt;br/&amp;gt;Total Trade: 298.2' data-id='148.2148' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e18' cx='166.82' cy='254.88' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2012&amp;lt;br/&amp;gt; Import: 166.1&amp;lt;br/&amp;gt; Export: 161.8 &amp;lt;br/&amp;gt;Trade Balance: -4.3 &amp;lt;br/&amp;gt;Total Trade: 327.9' data-id='166.0971' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e19' cx='194.31' cy='248.66' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2013&amp;lt;br/&amp;gt; Import: 187.3&amp;lt;br/&amp;gt; Export: 177.7 &amp;lt;br/&amp;gt;Trade Balance: -9.6 &amp;lt;br/&amp;gt;Total Trade: 365.1' data-id='187.3357' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e20' cx='221.79' cy='241.98' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2014&amp;lt;br/&amp;gt; Import: 211.2&amp;lt;br/&amp;gt; Export: 194.8 &amp;lt;br/&amp;gt;Trade Balance: -16.3 &amp;lt;br/&amp;gt;Total Trade: 406.0' data-id='211.1776' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e21' cx='249.27' cy='235.83' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2015&amp;lt;br/&amp;gt; Import: 222.3&amp;lt;br/&amp;gt; Export: 210.6 &amp;lt;br/&amp;gt;Trade Balance: -11.7 &amp;lt;br/&amp;gt;Total Trade: 432.9' data-id='222.2996' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e22' cx='276.76' cy='235.35' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2016&amp;lt;br/&amp;gt; Import: 219.3&amp;lt;br/&amp;gt; Export: 211.8 &amp;lt;br/&amp;gt;Trade Balance: -7.4 &amp;lt;br/&amp;gt;Total Trade: 431.1' data-id='219.2735' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e23' cx='304.24' cy='223.76' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2017&amp;lt;br/&amp;gt; Import: 251.8&amp;lt;br/&amp;gt; Export: 241.6 &amp;lt;br/&amp;gt;Trade Balance: -10.2 &amp;lt;br/&amp;gt;Total Trade: 493.4' data-id='251.7858' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e24' cx='331.73' cy='205.98' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2018&amp;lt;br/&amp;gt; Import: 274.1&amp;lt;br/&amp;gt; Export: 287.1 &amp;lt;br/&amp;gt;Trade Balance: 13.0 &amp;lt;br/&amp;gt;Total Trade: 561.3' data-id='274.1296' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e25' cx='359.21' cy='198.15' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2019&amp;lt;br/&amp;gt; Import: 285.6&amp;lt;br/&amp;gt; Export: 307.2 &amp;lt;br/&amp;gt;Trade Balance: 21.6 &amp;lt;br/&amp;gt;Total Trade: 592.8' data-id='285.6084' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e26' cx='386.7' cy='200.96' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2020&amp;lt;br/&amp;gt; Import: 290.0&amp;lt;br/&amp;gt; Export: 300.0 &amp;lt;br/&amp;gt;Trade Balance: 10.0 &amp;lt;br/&amp;gt;Total Trade: 590.0' data-id='290.0305' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e27' cx='414.18' cy='168.78' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2021&amp;lt;br/&amp;gt; Import: 332.6&amp;lt;br/&amp;gt; Export: 382.5 &amp;lt;br/&amp;gt;Trade Balance: 49.9 &amp;lt;br/&amp;gt;Total Trade: 715.1' data-id='332.6011' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e28' cx='441.67' cy='135.35' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2022&amp;lt;br/&amp;gt; Import: 409.1&amp;lt;br/&amp;gt; Export: 468.2 &amp;lt;br/&amp;gt;Trade Balance: 59.1 &amp;lt;br/&amp;gt;Total Trade: 877.3' data-id='409.062' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e29' cx='469.15' cy='130.35' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2023&amp;lt;br/&amp;gt; Import: 438.1&amp;lt;br/&amp;gt; Export: 481.0 &amp;lt;br/&amp;gt;Trade Balance: 42.9 &amp;lt;br/&amp;gt;Total Trade: 919.1' data-id='438.1078' nearest='true'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e30' cx='496.64' cy='111.8' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Year: 2024&amp;lt;br/&amp;gt; Import: 469.2&amp;lt;br/&amp;gt; Export: 528.6 &amp;lt;br/&amp;gt;Trade Balance: 59.4 &amp;lt;br/&amp;gt;Total Trade: 997.7' data-id='469.1815' nearest='true'/>\n   <polyline points='111.85,264.52 139.34,260.17 166.82,253.20 194.31,244.91 221.79,235.61 249.27,231.27 276.76,232.45 304.24,219.77 331.73,211.05 359.21,206.58 386.70,204.85 414.18,188.25 441.67,158.42 469.15,147.09 496.64,134.97' fill='none' stroke='#3883C9' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='111.85,264.60 139.34,259.47 166.82,254.88 194.31,248.66 221.79,241.98 249.27,235.83 276.76,235.35 304.24,223.76 331.73,205.98 359.21,198.15 386.70,200.96 414.18,168.78 441.67,135.35 469.15,130.35 496.64,111.80' fill='none' stroke='#73AD00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polygon points='111.85,264.60 114.42,264.12 114.42,264.12 111.85,264.52' fill='#4A8FD5' fill-opacity='0.3' stroke='none'/>\n   <polyline points='111.85,264.60 114.42,264.12' fill='none' stroke='none'/>\n   <polyline points='114.42,264.12 111.85,264.52' fill='none' stroke='none'/>\n   <polygon points='114.42,264.12 139.34,259.47 147.40,258.12 147.40,258.12 139.34,260.17 114.42,264.12' fill='#7CB723' fill-opacity='0.3' stroke='none'/>\n   <polyline points='114.42,264.12 139.34,259.47 147.40,258.12' fill='none' stroke='none'/>\n   <polyline points='147.40,258.12 139.34,260.17 114.42,264.12' fill='none' stroke='none'/>\n   <polygon points='147.40,258.12 166.82,254.88 194.31,248.66 221.79,241.98 249.27,235.83 276.76,235.35 304.24,223.76 316.33,215.94 316.33,215.94 304.24,219.77 276.76,232.45 249.27,231.27 221.79,235.61 194.31,244.91 166.82,253.20 147.40,258.12' fill='#4A8FD5' fill-opacity='0.3' stroke='none'/>\n   <polyline points='147.40,258.12 166.82,254.88 194.31,248.66 221.79,241.98 249.27,235.83 276.76,235.35 304.24,223.76 316.33,215.94' fill='none' stroke='none'/>\n   <polyline points='316.33,215.94 304.24,219.77 276.76,232.45 249.27,231.27 221.79,235.61 194.31,244.91 166.82,253.20 147.40,258.12' fill='none' stroke='none'/>\n   <polygon points='316.33,215.94 331.73,205.98 359.21,198.15 386.70,200.96 414.18,168.78 441.67,135.35 469.15,130.35 496.64,111.80 496.64,134.97 469.15,147.09 441.67,158.42 414.18,188.25 386.70,204.85 359.21,206.58 331.73,211.05 316.33,215.94' fill='#7CB723' fill-opacity='0.3' stroke='none'/>\n   <polyline points='316.33,215.94 331.73,205.98 359.21,198.15 386.70,200.96 414.18,168.78 441.67,135.35 469.15,130.35 496.64,111.80' fill='none' stroke='none'/>\n   <polyline points='496.64,134.97 469.15,147.09 441.67,158.42 414.18,188.25 386.70,204.85 359.21,206.58 331.73,211.05 316.33,215.94' fill='none' stroke='none'/>\n   <polyline points='400.44,169.75 400.52,169.59 400.99,168.65 401.95,166.69 403.27,164.03 404.65,161.22 405.96,158.60 407.20,156.20 408.42,154.00 409.65,151.90 410.07,151.21 411.38,149.17 412.70,147.22 414.01,145.39 415.26,143.72 416.47,142.13 417.72,140.51 419.10,138.81 420.60,137.02 422.20,135.22 422.73,134.65 424.40,132.90 426.08,131.24 427.71,129.70 429.26,128.30 430.76,126.98 432.30,125.63 433.98,124.22 435.80,122.76 437.72,121.31 438.35,120.85 440.33,119.45 442.30,118.15 444.19,116.95 445.99,115.88 447.71,114.87 449.48,113.85 451.40,112.78 453.47,111.71 455.63,110.65 456.34,110.32 458.55,109.33 460.73,108.43 462.83,107.63 464.79,106.92 466.68,106.26 468.61,105.60 470.70,104.93 472.94,104.27 475.27,103.65 476.02,103.46 478.39,102.92 480.82,102.44 483.41,102.00 486.23,101.58 489.28,101.14 492.34,100.71 494.82,100.36 496.24,100.15 496.63,100.10 496.64,100.10' fill='none' stroke='#73AD00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='492.18,103.59 496.64,100.10 491.38,97.98' fill='none' stroke='#73AD00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='337.23' y='96.72' font-size='6.4pt' font-family='Helvetica' fill='#73AD00' fill-opacity='1'>Export CAGR<\/text>\n   <text x='337.23' y='109.01' font-size='6.4pt' font-family='Helvetica' fill='#73AD00' fill-opacity='1'>increased by 15.2%<\/text>\n   <text x='337.23' y='121.3' font-size='6.4pt' font-family='Helvetica' fill='#73AD00' fill-opacity='1'>from 2020 to 2024<\/text>\n   <polyline points='400.44,212.65 400.62,212.60 401.64,212.32 403.76,211.73 406.58,210.94 409.51,210.12 412.23,209.35 414.73,208.61 417.05,207.88 419.31,207.11 419.56,207.03 421.78,206.22 423.94,205.39 425.96,204.58 427.83,203.80 429.62,203.03 431.46,202.23 433.44,201.34 435.51,200.37 437.63,199.32 437.86,199.21 439.96,198.11 441.99,197.01 443.89,195.94 445.64,194.92 447.31,193.93 449.04,192.89 450.87,191.75 452.81,190.51 454.77,189.19 454.98,189.05 456.92,187.69 458.78,186.33 460.52,185.02 462.13,183.78 463.65,182.58 465.23,181.32 466.90,179.95 468.65,178.47 470.43,176.91 470.62,176.74 472.36,175.14 474.03,173.54 475.59,172.02 477.01,170.57 478.37,169.18 479.77,167.73 481.24,166.15 482.79,164.45 484.34,162.67 484.51,162.48 486.03,160.65 487.55,158.76 489.13,156.72 490.82,154.48 492.62,152.06 494.40,149.67 495.78,147.82 496.49,146.87 496.64,146.67 496.64,146.67' fill='none' stroke='#3883C9' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='495.98,152.30 496.64,146.67 491.43,148.91' fill='none' stroke='#3883C9' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='427.93' y='216.29' font-size='6.4pt' font-family='Helvetica' fill='#3883C9' fill-opacity='1'>Import CAGR<\/text>\n   <text x='427.93' y='228.59' font-size='6.4pt' font-family='Helvetica' fill='#3883C9' fill-opacity='1'>increased by 12.8%<\/text>\n   <text x='427.93' y='240.88' font-size='6.4pt' font-family='Helvetica' fill='#3883C9' fill-opacity='1'>from 2020 to 2024<\/text>\n  <\/g>\n  <g clip-path='url(#svg_6965439b_276f_46d2_8579_7c27e0af8187_c1)'>\n   <text x='52.56' y='321.13' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>0<\/text>\n   <text x='42.78' y='282.12' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>100<\/text>\n   <text x='42.78' y='243.11' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>200<\/text>\n   <text x='42.78' y='204.1' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>300<\/text>\n   <text x='42.78' y='165.09' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>400<\/text>\n   <text x='42.78' y='126.08' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>500<\/text>\n   <text x='42.78' y='87.08' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>600<\/text>\n   <text x='102.07' y='340.9' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>2010<\/text>\n   <text x='239.5' y='340.9' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>2015<\/text>\n   <text x='376.92' y='340.9' font-size='6.6pt' font-family='Helvetica Neue' fill='#666666' fill-opacity='1'>2020<\/text>\n   <text transform='translate(37.74,223.98) rotate(-90.00)' font-size='8.25pt' font-family='Helvetica Neue'>S$ Billion<\/text>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e31' cx='237.54' cy='367.82' r='0.27pt' fill='#73AD00' fill-opacity='1' stroke='#73AD00' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' nearest='true'/>\n   <line x1='230.62' y1='367.82' x2='244.45' y2='367.82' stroke='#73AD00' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <circle id='svg_6965439b_276f_46d2_8579_7c27e0af8187_e32' cx='237.54' cy='385.1' r='0.27pt' fill='#3883C9' fill-opacity='1' stroke='#3883C9' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' nearest='true'/>\n   <line x1='230.62' y1='385.1' x2='244.45' y2='385.1' stroke='#3883C9' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <text x='251.66' y='370.96' font-size='6.6pt' font-family='Helvetica Neue'>Exports<\/text>\n   <text x='251.66' y='388.24' font-size='6.6pt' font-family='Helvetica Neue'>Imports<\/text>\n   <rect x='304.59' y='359.88' width='15.86' height='15.86' fill='#7CB723' fill-opacity='0.3' stroke='none'/>\n   <rect x='304.59' y='377.16' width='15.86' height='15.86' fill='#4A8FD5' fill-opacity='0.3' stroke='none'/>\n   <text x='326.64' y='370.96' font-size='6.6pt' font-family='Helvetica Neue'>More Exports<\/text>\n   <text x='326.64' y='388.24' font-size='6.6pt' font-family='Helvetica Neue'>More Imports<\/text>\n   <text x='62.38' y='40.7' font-size='8.25pt' font-family='Helvetica Neue'>The areas highlight which aspect is in surplus. Both imports and exports have an<\/text>\n   <text x='62.38' y='52.58' font-size='8.25pt' font-family='Helvetica Neue'>increasing overall trend. In 2017, the amount of exports overtook the amount of<\/text>\n   <text x='62.38' y='64.46' font-size='8.25pt' font-family='Helvetica Neue'>imports.<\/text>\n   <text x='62.38' y='29.92' font-size='10.5pt' font-weight='bold' font-family='Helvetica Neue' fill='#404040' fill-opacity='1'>Overall Exports and Imports of Services (2010-2024)<\/text>\n   <text x='378.48' y='410.4' font-size='6pt' font-family='Helvetica Neue'>Source: Singstat.gov.sg | Graphic: Vivian Chew<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_6965439b_276f_46d2_8579_7c27e0af8187","ratio":1.333333333333333,"settings":{"tooltip":{"css":".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":10,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_data_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_data_SVGID_ { fill:orange;stroke:black; }\nline.hover_data_SVGID_, polyline.hover_data_SVGID_ { fill:none;stroke:orange; }\nrect.hover_data_SVGID_, polygon.hover_data_SVGID_, path.hover_data_SVGID_ { fill:orange;stroke:none; }\nimage.hover_data_SVGID_ { stroke:orange; }","reactive":true,"nearest_distance":null},"hover_inv":{"css":""},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"fixed":false,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":1}}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
</section>
<section id="second-makeover" class="level2">
<h2 class="anchored" data-anchor-id="second-makeover">3.2 Second Makeover</h2>
<section id="the-original-1" class="level3">
<h3 class="anchored" data-anchor-id="the-original-1">The Original</h3>
<p><img src="ref_viz/viz2.png" class="img-fluid" alt="Fig 2a. The second figure we will be making over is a bar chart with some sort of ranking"> The strengths of this plot lie in the bar representation, which effectively highlights the differences in trade balance across countries. It allows for a clear side-by-side comparison of whether a region is more focused on imports or exports. The change between 2019 and 2023 can also be observed, though it requires some mental effort to assess the changes by region. The inclusion of region flags and category colors enhances the visual appeal and makes the plot easy to scan.</p>
<p>However, the ranking is based on total trade (imports + exports), requiring viewers to mentally calculate the summed values. Additionally, the plot only shows the current rankings, without indicating any shifts in ranking from 2019 to 2023.</p>
<p>In order to visualize the change (trend), and also the ranking. I propose to use a slope graph.</p>
<p><img src="ref_viz/sugviz2.png" class="img-fluid" alt="Fig 2b. Suggested slope graph, where viewers can click on the points to highlight the region of interest. Moreover, the import and export will be displayed on the same scale so we can compare not only the trend but also if it is a region more focused on imports or exports"> ### The Makeover</p>
<div class="cell">
<details class="code-fold">
<summary>Loading the data</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>svc_pi <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'data/sg_svc_trade_by_partners.xlsx'</span>,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                               <span class="at">sheet=</span><span class="st">"import"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>svc_pe <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'data/sg_svc_trade_by_partners.xlsx'</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                               <span class="at">sheet=</span><span class="st">"export"</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>region_mapping <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/region_mapping.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Data preprocessing</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>broad_classification <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Asia'</span>, <span class="st">'Europe'</span>, <span class="st">'Africa'</span>, <span class="st">'Oceania'</span>, <span class="st">'ASEAN'</span>, <span class="st">'European Union (EU-27)'</span>, </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                          <span class="st">'North America'</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                          <span class="st">'South And Central America And The Caribbean'</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>region_mapping<span class="sc">$</span><span class="st">`</span><span class="at">Trading Partner</span><span class="st">`</span> <span class="ot">&lt;-</span> region_mapping<span class="sc">$</span><span class="st">`</span><span class="at">M49 code</span><span class="st">`</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>format_svc_partner_df <span class="ot">&lt;-</span> <span class="cf">function</span>(df, new_df) {</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  new_df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">Trading Partner</span><span class="st">`</span> <span class="sc">%in%</span> broad_classification) <span class="sc">%&gt;%</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="dv">2</span><span class="sc">:</span><span class="fu">ncol</span>(df), as.numeric)) <span class="sc">%&gt;%</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(region_mapping <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>              <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sub Division</span><span class="st">`</span>, <span class="st">`</span><span class="at">Continent</span><span class="st">`</span>, <span class="st">`</span><span class="at">Trading Partner</span><span class="st">`</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>), <span class="st">`</span><span class="at">Trading Partner</span><span class="st">`</span>, <span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(<span class="st">`</span><span class="at">Trading Partner</span><span class="st">`</span>, <span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>, <span class="st">`</span><span class="at">Sub Division</span><span class="st">`</span>, Continent),  <span class="co"># Exclude identifier columns</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Year"</span>,                                           </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"SGD (Million)"</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(<span class="fu">as.Date</span>(<span class="fu">paste0</span>(Year, <span class="st">"-01-01"</span>))))</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (new_df)</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>svc_pi_long <span class="ot">&lt;-</span> <span class="fu">format_svc_partner_df</span>(svc_pi)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>svc_pe_long <span class="ot">&lt;-</span> <span class="fu">format_svc_partner_df</span>(svc_pe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Checking top 10 regions by import / export</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>svc_pi_2019_2023 <span class="ot">&lt;-</span> svc_pi_long <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>, Year) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Import =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">SGD (Million)</span><span class="st">`</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2019</span>, <span class="dv">2023</span>))</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>svc_pi_2023_top_10 <span class="ot">&lt;-</span> svc_pi_2019_2023 <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2023</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Import)) <span class="sc">%&gt;%</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>svc_pe_2019_2023 <span class="ot">&lt;-</span> svc_pe_long <span class="sc">%&gt;%</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>, Year) <span class="sc">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Export =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">SGD (Million)</span><span class="st">`</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">2019</span>, <span class="dv">2023</span>))</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>svc_pe_2023_top_10 <span class="ot">&lt;-</span> svc_pe_2019_2023 <span class="sc">%&gt;%</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2023</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Export)) <span class="sc">%&gt;%</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Final top 12 regions for total trade</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>comb_svc_p_2019_2023 <span class="ot">&lt;-</span> svc_pi_2019_2023 <span class="sc">%&gt;%</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(svc_pe_2019_2023,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"Regional Blocs"</span> <span class="ot">=</span> <span class="st">"Regional Blocs"</span>, <span class="st">"Year"</span> <span class="ot">=</span> <span class="st">"Year"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Total Trade</span><span class="st">`</span> <span class="ot">=</span> Import <span class="sc">+</span> Export)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>top_12_svc_p <span class="ot">&lt;-</span> comb_svc_p_2019_2023 <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2023</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Total Trade</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-fig-widith="8">
<details class="code-fold">
<summary>Slopegraph using plotly</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>export_colour <span class="ot">&lt;-</span> <span class="st">"#73ad00"</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>import_colour <span class="ot">&lt;-</span> <span class="st">"#3883c9"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>total_colour <span class="ot">&lt;-</span> <span class="st">"#f76a80"</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># This helped: https://stackoverflow.com/questions/72669786/in-r-how-to-use-plotlys-highlight-function-to-activate-a-ggplot-2-graphic-la</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>subset_data <span class="ot">&lt;-</span> comb_svc_p_2019_2023 <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">filter</span>(<span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span> <span class="sc">%in%</span> top_12_svc_p<span class="sc">$</span><span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">mutate</span>(<span class="at">Region =</span> <span class="st">`</span><span class="at">Regional Blocs</span><span class="st">`</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>ranked_data <span class="ot">&lt;-</span> subset_data <span class="sc">%&gt;%</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Import_Rank =</span> <span class="fu">rank</span>(<span class="sc">-</span>Import, <span class="at">ties.method =</span> <span class="st">"min"</span>),  <span class="co"># Rank by Import (descending)</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Export_Rank =</span> <span class="fu">rank</span>(<span class="sc">-</span>Export, <span class="at">ties.method =</span> <span class="st">"min"</span>),  <span class="co"># Rank by Export (descending)</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_Trade_Rank =</span> <span class="fu">rank</span>(<span class="sc">-</span><span class="st">`</span><span class="at">Total Trade</span><span class="st">`</span>, <span class="at">ties.method =</span> <span class="st">"min"</span>)  <span class="co"># Rank by Total Trade (descending)</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()  </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">highlight_key</span>(ranked_data, <span class="sc">~</span>Region)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Their colours are pretty dull. </span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>group_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"United States Of America"</span> <span class="ot">=</span> <span class="st">"#04747c"</span>,</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"European Union (EU-27)"</span> <span class="ot">=</span> <span class="st">"#808080"</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Mainland China"</span> <span class="ot">=</span> <span class="st">"#344f6b"</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Japan"</span> <span class="ot">=</span> <span class="st">"#d04f65"</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="st">"ASEAN"</span> <span class="ot">=</span> <span class="st">"#6b99bb"</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Australia"</span> <span class="ot">=</span> <span class="st">"#feab40"</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Hong Kong"</span> <span class="ot">=</span> <span class="st">"#5c6ac0"</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>  <span class="st">"United Kingdom"</span> <span class="ot">=</span> <span class="st">"#679f39"</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Switzerland"</span> <span class="ot">=</span> <span class="st">"#7f3e70"</span>,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="st">"India"</span> <span class="ot">=</span> <span class="st">"#726356"</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Taiwan"</span> <span class="ot">=</span> <span class="st">"#cfa61d"</span>,</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Republic Of Korea"</span> <span class="ot">=</span> <span class="st">"#9b3d4b"</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> d,</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y=</span>Import,</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>           <span class="at">x=</span>Year,</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>           <span class="at">group =</span> Region,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Region)) <span class="sc">+</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Region, <span class="at">alpha =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Import_Rank),</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>            <span class="at">nudge_x =</span> <span class="fl">0.1</span>,   <span class="co"># Adjust horizontal position (for plotly)</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>            <span class="at">check_overlap =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Avoid overlapping labels</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x.top =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>)</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">2018.5</span>, <span class="fl">2023.5</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">110</span>)) <span class="sc">+</span> </span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2019</span>, <span class="dv">2023</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">110</span>, <span class="dv">10</span>)) </span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> d,</span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y=</span>Export,</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>           <span class="at">x=</span>Year,</span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>           <span class="at">group =</span> Region,</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Region)) <span class="sc">+</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Region, <span class="at">alpha =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> Export_Rank),</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>            <span class="at">nudge_x =</span> <span class="fl">0.1</span>,   <span class="co"># Adjust horizontal position (for plotly)</span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>            <span class="at">check_overlap =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Avoid overlapping labels</span></span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x.top =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>)</span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">2018.5</span>, <span class="fl">2023.5</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">110</span>)) <span class="sc">+</span> </span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2019</span>, <span class="dv">2023</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">110</span>, <span class="dv">10</span>))</span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> d,</span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y=</span><span class="st">`</span><span class="at">Total Trade</span><span class="st">`</span>,</span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>           <span class="at">x=</span>Year,</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>           <span class="at">group =</span> Region,</span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> Region)) <span class="sc">+</span></span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> Region, <span class="at">alpha =</span> <span class="dv">1</span>), <span class="at">size =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(Total_Trade_Rank,<span class="st">" "</span>, Region),</span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a>                <span class="at">y =</span> <span class="st">`</span><span class="at">Total Trade</span><span class="st">`</span>),</span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="st">"left"</span>,</span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">2.5</span>,</span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a>            <span class="at">nudge_x =</span> <span class="fl">0.1</span>,   <span class="co"># Adjust horizontal position (for plotly)</span></span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a>            <span class="at">check_overlap =</span> <span class="cn">TRUE</span>) <span class="sc">+</span>  <span class="co"># Avoid overlapping labels</span></span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="fl">2018.5</span>, <span class="dv">2026</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">160</span>)) <span class="sc">+</span></span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2019</span>, <span class="dv">2023</span>, <span class="dv">4</span>)) <span class="sc">+</span></span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">5</span>, <span class="dv">160</span>, <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-115"><a href="#cb10-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-116"><a href="#cb10-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-117"><a href="#cb10-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb10-118"><a href="#cb10-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x.top =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>)</span>
<span id="cb10-119"><a href="#cb10-119" aria-hidden="true" tabindex="-1"></a>  ) </span>
<span id="cb10-120"><a href="#cb10-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-121"><a href="#cb10-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to plotly objects</span></span>
<span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a>p1_plotly <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p1) </span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a>p2_plotly <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p2)</span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a>p3_plotly <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p3) </span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a>rephrase_hovertext <span class="ot">&lt;-</span> <span class="cf">function</span>(txt) {</span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a>  txt <span class="ot">&lt;-</span> <span class="fu">sub</span>(<span class="st">"^((.*?&lt;br /&gt;){2}.*?)(&lt;br /&gt;.*)*$"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, txt)</span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a>  txt <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">":</span><span class="sc">\\</span><span class="st">s+"</span>, <span class="st">": "</span>, txt)  <span class="co"># Ensure only one space after colon</span></span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Extract Year, Mode (Import/Export), Value, and Region</span></span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a>  txt <span class="ot">&lt;-</span> <span class="fu">sub</span>(<span class="st">"Year: (</span><span class="sc">\\</span><span class="st">d+)&lt;br /&gt;([^:]+): ([0-9</span><span class="sc">\\</span><span class="st">.]+)</span><span class="sc">\\</span><span class="st">s*&lt;br /&gt;Region: (.+)"</span>, </span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a>             <span class="st">"In &lt;b&gt;</span><span class="sc">\\</span><span class="st">1&lt;/b&gt;, the </span><span class="sc">\\</span><span class="st">2 was &lt;b&gt;S$ </span><span class="sc">\\</span><span class="st">3 billion&lt;/b&gt; from &lt;b&gt;</span><span class="sc">\\</span><span class="st">4&lt;/b&gt;"</span>, txt)</span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-134"><a href="#cb10-134" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Round numbers to one decimal place if needed</span></span>
<span id="cb10-135"><a href="#cb10-135" aria-hidden="true" tabindex="-1"></a>  txt <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"([0-9]+</span><span class="sc">\\</span><span class="st">.[0-9]{1})[0-9]*"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1"</span>, txt)</span>
<span id="cb10-136"><a href="#cb10-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (txt)</span>
<span id="cb10-137"><a href="#cb10-137" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-138"><a href="#cb10-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-139"><a href="#cb10-139" aria-hidden="true" tabindex="-1"></a>replace_p_trace <span class="ot">&lt;-</span> <span class="cf">function</span>(plotly_object) {</span>
<span id="cb10-140"><a href="#cb10-140" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">rev</span>(<span class="fu">seq_along</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data))) {</span>
<span id="cb10-141"><a href="#cb10-141" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if the trace has mode = "markers"</span></span>
<span id="cb10-142"><a href="#cb10-142" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode) <span class="sc">&amp;&amp;</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode <span class="sc">==</span> <span class="st">"markers"</span>) {</span>
<span id="cb10-143"><a href="#cb10-143" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Get the marker color</span></span>
<span id="cb10-144"><a href="#cb10-144" aria-hidden="true" tabindex="-1"></a>      c <span class="ot">&lt;-</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>marker<span class="sc">$</span>color</span>
<span id="cb10-145"><a href="#cb10-145" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Add lines to the trace</span></span>
<span id="cb10-146"><a href="#cb10-146" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>line <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-147"><a href="#cb10-147" aria-hidden="true" tabindex="-1"></a>        <span class="at">width =</span> <span class="fl">1.889764</span>,  <span class="co"># Set line width</span></span>
<span id="cb10-148"><a href="#cb10-148" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="fu">sub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">d+(</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">d+)?</span><span class="sc">\\</span><span class="st">)$"</span>, <span class="st">"0.55)"</span>, c), <span class="co"># Use marker color for the line, keeping the same opacity</span></span>
<span id="cb10-149"><a href="#cb10-149" aria-hidden="true" tabindex="-1"></a>        <span class="at">dash =</span> <span class="st">"solid"</span>     <span class="co"># Set line style to solid</span></span>
<span id="cb10-150"><a href="#cb10-150" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-151"><a href="#cb10-151" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Change mode to "markers+lines"</span></span>
<span id="cb10-152"><a href="#cb10-152" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode <span class="ot">&lt;-</span> <span class="st">"markers+lines"</span></span>
<span id="cb10-153"><a href="#cb10-153" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">rephrase_hovertext</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">1</span>]])</span>
<span id="cb10-154"><a href="#cb10-154" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> <span class="fu">rephrase_hovertext</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">2</span>]])</span>
<span id="cb10-155"><a href="#cb10-155" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-156"><a href="#cb10-156" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Check if the trace has mode = "lines"</span></span>
<span id="cb10-157"><a href="#cb10-157" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode) <span class="sc">&amp;&amp;</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode <span class="sc">==</span> <span class="st">"lines"</span>) {</span>
<span id="cb10-158"><a href="#cb10-158" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Remove the entire trace</span></span>
<span id="cb10-159"><a href="#cb10-159" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]] <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb10-160"><a href="#cb10-160" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb10-161"><a href="#cb10-161" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="fu">seq_along</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>hovertext)) {</span>
<span id="cb10-162"><a href="#cb10-162" aria-hidden="true" tabindex="-1"></a>        plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>hovertext[[j]] <span class="ot">&lt;-</span> <span class="fu">rephrase_hovertext</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>hovertext[[j]])</span>
<span id="cb10-163"><a href="#cb10-163" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-164"><a href="#cb10-164" aria-hidden="true" tabindex="-1"></a>    trace_color <span class="ot">&lt;-</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>textfont<span class="sc">$</span>color</span>
<span id="cb10-165"><a href="#cb10-165" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-166"><a href="#cb10-166" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Set hoverlabel bgcolor to match trace color</span></span>
<span id="cb10-167"><a href="#cb10-167" aria-hidden="true" tabindex="-1"></a>    plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>hoverlabel <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb10-168"><a href="#cb10-168" aria-hidden="true" tabindex="-1"></a>      <span class="at">bgcolor =</span> trace_color,  <span class="co"># Match trace color</span></span>
<span id="cb10-169"><a href="#cb10-169" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>)  <span class="co"># Customize font</span></span>
<span id="cb10-170"><a href="#cb10-170" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-171"><a href="#cb10-171" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-172"><a href="#cb10-172" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (plotly_object)</span>
<span id="cb10-173"><a href="#cb10-173" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-174"><a href="#cb10-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-175"><a href="#cb10-175" aria-hidden="true" tabindex="-1"></a>p1_plotly <span class="ot">&lt;-</span> <span class="fu">replace_p_trace</span>(p1_plotly)</span>
<span id="cb10-176"><a href="#cb10-176" aria-hidden="true" tabindex="-1"></a>p2_plotly <span class="ot">&lt;-</span> <span class="fu">replace_p_trace</span>(p2_plotly)</span>
<span id="cb10-177"><a href="#cb10-177" aria-hidden="true" tabindex="-1"></a>p3_plotly <span class="ot">&lt;-</span> <span class="fu">replace_p_trace</span>(p3_plotly)</span>
<span id="cb10-178"><a href="#cb10-178" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-179"><a href="#cb10-179" aria-hidden="true" tabindex="-1"></a><span class="co"># For p1 and p2</span></span>
<span id="cb10-180"><a href="#cb10-180" aria-hidden="true" tabindex="-1"></a>adjust_p_text <span class="ot">&lt;-</span> <span class="cf">function</span>(plotly_object) {</span>
<span id="cb10-181"><a href="#cb10-181" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">rev</span>(<span class="fu">seq_along</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data))) {</span>
<span id="cb10-182"><a href="#cb10-182" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode) <span class="sc">&amp;&amp;</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode <span class="sc">==</span> <span class="st">"text"</span>) {</span>
<span id="cb10-183"><a href="#cb10-183" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>x[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>x[[<span class="dv">1</span>]] <span class="sc">-</span> <span class="fl">0.4</span>  <span class="co"># Shift left</span></span>
<span id="cb10-184"><a href="#cb10-184" aria-hidden="true" tabindex="-1"></a>      plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>x[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> plotly_object<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>x[[<span class="dv">2</span>]] <span class="sc">+</span> <span class="fl">0.1</span>  <span class="co"># Shift right</span></span>
<span id="cb10-185"><a href="#cb10-185" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-186"><a href="#cb10-186" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-187"><a href="#cb10-187" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span> (plotly_object)</span>
<span id="cb10-188"><a href="#cb10-188" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-189"><a href="#cb10-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-190"><a href="#cb10-190" aria-hidden="true" tabindex="-1"></a>p1_plotly <span class="ot">&lt;-</span> <span class="fu">adjust_p_text</span>(p1_plotly)</span>
<span id="cb10-191"><a href="#cb10-191" aria-hidden="true" tabindex="-1"></a>p2_plotly <span class="ot">&lt;-</span> <span class="fu">adjust_p_text</span>(p2_plotly)</span>
<span id="cb10-192"><a href="#cb10-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-193"><a href="#cb10-193" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">rev</span>(<span class="fu">seq_along</span>(p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data))) {</span>
<span id="cb10-194"><a href="#cb10-194" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode) <span class="sc">&amp;&amp;</span> p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>mode <span class="sc">==</span> <span class="st">"text"</span>) {</span>
<span id="cb10-195"><a href="#cb10-195" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"Republic Of Korea"</span>, p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">1</span>]]))) {</span>
<span id="cb10-196"><a href="#cb10-196" aria-hidden="true" tabindex="-1"></a>      p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>y[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>y[[<span class="dv">2</span>]] <span class="sc">-</span> <span class="dv">3</span></span>
<span id="cb10-197"><a href="#cb10-197" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-198"><a href="#cb10-198" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> (<span class="fu">any</span>(<span class="fu">grepl</span>(<span class="st">"Mainland China"</span>, p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">1</span>]]))) {</span>
<span id="cb10-199"><a href="#cb10-199" aria-hidden="true" tabindex="-1"></a>      p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>y[[<span class="dv">2</span>]] <span class="ot">&lt;-</span> p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>y[[<span class="dv">2</span>]] <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb10-200"><a href="#cb10-200" aria-hidden="true" tabindex="-1"></a>   }</span>
<span id="cb10-201"><a href="#cb10-201" aria-hidden="true" tabindex="-1"></a>    p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>x[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>x[[<span class="dv">1</span>]] <span class="sc">-</span> <span class="fl">0.5</span>  <span class="co"># Shift left</span></span>
<span id="cb10-202"><a href="#cb10-202" aria-hidden="true" tabindex="-1"></a>    p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">1</span>]] <span class="ot">&lt;-</span> <span class="fu">str_extract</span>(p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>text[[<span class="dv">1</span>]], <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>)</span>
<span id="cb10-203"><a href="#cb10-203" aria-hidden="true" tabindex="-1"></a>    p3_plotly<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>textposition <span class="ot">&lt;-</span> <span class="st">"right"</span></span>
<span id="cb10-204"><a href="#cb10-204" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-205"><a href="#cb10-205" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-206"><a href="#cb10-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-207"><a href="#cb10-207" aria-hidden="true" tabindex="-1"></a>title <span class="ot">&lt;-</span> <span class="st">"Major Trading Partners for Trade In Services"</span></span>
<span id="cb10-208"><a href="#cb10-208" aria-hidden="true" tabindex="-1"></a>subtitle <span class="ot">&lt;-</span> <span class="st">"The slopegraph illustrates the changes in services trade with Singapore’s top 12 trading partners."</span></span>
<span id="cb10-209"><a href="#cb10-209" aria-hidden="true" tabindex="-1"></a>subtitle2 <span class="ot">&lt;-</span> <span class="st">"Click on the points and region names to highlight specific countries and regions."</span></span>
<span id="cb10-210"><a href="#cb10-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-211"><a href="#cb10-211" aria-hidden="true" tabindex="-1"></a><span class="fu">subplot</span>(p2_plotly, p1_plotly, p3_plotly, <span class="at">nrows =</span> <span class="dv">1</span>, </span>
<span id="cb10-212"><a href="#cb10-212" aria-hidden="true" tabindex="-1"></a>        <span class="at">shareX =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-213"><a href="#cb10-213" aria-hidden="true" tabindex="-1"></a>        <span class="at">widths =</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb10-214"><a href="#cb10-214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">highlight</span>(<span class="at">on =</span> <span class="st">'plotly_click'</span>, <span class="at">off =</span> <span class="st">'plotly_doubleclick'</span>, </span>
<span id="cb10-215"><a href="#cb10-215" aria-hidden="true" tabindex="-1"></a>            <span class="at">opacityDim =</span> .<span class="dv">25</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-216"><a href="#cb10-216" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(</span>
<span id="cb10-217"><a href="#cb10-217" aria-hidden="true" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">b =</span> <span class="dv">50</span>),</span>
<span id="cb10-218"><a href="#cb10-218" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb10-219"><a href="#cb10-219" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="fu">sprintf</span>(<span class="st">"&lt;b&gt;%s&lt;/b&gt;"</span>, title),  <span class="co"># Title</span></span>
<span id="cb10-220"><a href="#cb10-220" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Helvetica Neue"</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">color =</span> <span class="st">"black"</span>),  <span class="co"># Title font</span></span>
<span id="cb10-221"><a href="#cb10-221" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fl">0.02</span>,  <span class="co"># Position title (0 = left, 1 = right)</span></span>
<span id="cb10-222"><a href="#cb10-222" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="dv">1</span>   <span class="co"># Position title (0 = bottom, 1 = top)</span></span>
<span id="cb10-223"><a href="#cb10-223" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb10-224"><a href="#cb10-224" aria-hidden="true" tabindex="-1"></a>  <span class="at">annotations =</span> <span class="fu">list</span>( </span>
<span id="cb10-225"><a href="#cb10-225" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">0</span> , <span class="at">y =</span> <span class="fl">1.015</span>, <span class="at">text =</span> subtitle, <span class="at">showarrow =</span> F, </span>
<span id="cb10-226"><a href="#cb10-226" aria-hidden="true" tabindex="-1"></a>         <span class="at">xref=</span><span class="st">'paper'</span>, <span class="at">yref=</span><span class="st">'paper'</span>,</span>
<span id="cb10-227"><a href="#cb10-227" aria-hidden="true" tabindex="-1"></a>         <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb10-228"><a href="#cb10-228" aria-hidden="true" tabindex="-1"></a>         ), </span>
<span id="cb10-229"><a href="#cb10-229" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">0</span> , <span class="at">y =</span> <span class="fl">0.99</span>, <span class="at">text =</span> subtitle2, <span class="at">showarrow =</span> F, </span>
<span id="cb10-230"><a href="#cb10-230" aria-hidden="true" tabindex="-1"></a>         <span class="at">xref=</span><span class="st">'paper'</span>, <span class="at">yref=</span><span class="st">'paper'</span>,</span>
<span id="cb10-231"><a href="#cb10-231" aria-hidden="true" tabindex="-1"></a>         <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb10-232"><a href="#cb10-232" aria-hidden="true" tabindex="-1"></a>         ), </span>
<span id="cb10-233"><a href="#cb10-233" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">x =</span> <span class="fl">0.02</span> , <span class="at">y =</span> <span class="fl">0.93</span>, <span class="at">text =</span> <span class="st">"Exports"</span>, <span class="at">showarrow =</span> F, </span>
<span id="cb10-234"><a href="#cb10-234" aria-hidden="true" tabindex="-1"></a>         <span class="at">xref=</span><span class="st">'paper'</span>, <span class="at">yref=</span><span class="st">'paper'</span>,</span>
<span id="cb10-235"><a href="#cb10-235" aria-hidden="true" tabindex="-1"></a>         <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb10-236"><a href="#cb10-236" aria-hidden="true" tabindex="-1"></a>         <span class="at">bgcolor =</span> export_colour,</span>
<span id="cb10-237"><a href="#cb10-237" aria-hidden="true" tabindex="-1"></a>         <span class="at">bordercolor =</span> export_colour, </span>
<span id="cb10-238"><a href="#cb10-238" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderpad =</span> <span class="dv">8</span>,  </span>
<span id="cb10-239"><a href="#cb10-239" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderwidth =</span> <span class="fl">1.5</span></span>
<span id="cb10-240"><a href="#cb10-240" aria-hidden="true" tabindex="-1"></a>         ), </span>
<span id="cb10-241"><a href="#cb10-241" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">x =</span> <span class="fl">0.35</span> , <span class="at">y =</span> <span class="fl">0.93</span>, <span class="at">text =</span> <span class="st">"Imports"</span>, <span class="at">showarrow =</span> F, </span>
<span id="cb10-242"><a href="#cb10-242" aria-hidden="true" tabindex="-1"></a>         <span class="at">xref=</span><span class="st">'paper'</span>, <span class="at">yref=</span><span class="st">'paper'</span>,</span>
<span id="cb10-243"><a href="#cb10-243" aria-hidden="true" tabindex="-1"></a>         <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb10-244"><a href="#cb10-244" aria-hidden="true" tabindex="-1"></a>         <span class="at">bgcolor =</span> import_colour,</span>
<span id="cb10-245"><a href="#cb10-245" aria-hidden="true" tabindex="-1"></a>         <span class="at">bordercolor =</span> import_colour, </span>
<span id="cb10-246"><a href="#cb10-246" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderpad =</span> <span class="dv">8</span>,  </span>
<span id="cb10-247"><a href="#cb10-247" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderwidth =</span> <span class="fl">1.5</span></span>
<span id="cb10-248"><a href="#cb10-248" aria-hidden="true" tabindex="-1"></a>         ), </span>
<span id="cb10-249"><a href="#cb10-249" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">x =</span> <span class="fl">0.72</span> , <span class="at">y =</span> <span class="fl">0.93</span>, <span class="at">text =</span> <span class="st">"Total Trade"</span>, <span class="at">showarrow =</span> F, </span>
<span id="cb10-250"><a href="#cb10-250" aria-hidden="true" tabindex="-1"></a>         <span class="at">xref=</span><span class="st">'paper'</span>, <span class="at">yref=</span><span class="st">'paper'</span>,</span>
<span id="cb10-251"><a href="#cb10-251" aria-hidden="true" tabindex="-1"></a>         <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"white"</span>),</span>
<span id="cb10-252"><a href="#cb10-252" aria-hidden="true" tabindex="-1"></a>         <span class="at">bgcolor =</span> total_colour,</span>
<span id="cb10-253"><a href="#cb10-253" aria-hidden="true" tabindex="-1"></a>         <span class="at">bordercolor =</span> total_colour,  </span>
<span id="cb10-254"><a href="#cb10-254" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderpad =</span> <span class="dv">8</span>, </span>
<span id="cb10-255"><a href="#cb10-255" aria-hidden="true" tabindex="-1"></a>         <span class="at">borderwidth =</span> <span class="fl">1.5</span></span>
<span id="cb10-256"><a href="#cb10-256" aria-hidden="true" tabindex="-1"></a>         ), </span>
<span id="cb10-257"><a href="#cb10-257" aria-hidden="true" tabindex="-1"></a>    <span class="fu">list</span>(<span class="at">x =</span> <span class="dv">1</span> , <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.05</span>, <span class="at">text =</span> <span class="st">"Data Source: Singstat.gov.sg | Graphic: Vivian Chew"</span>, <span class="at">showarrow =</span> F, </span>
<span id="cb10-258"><a href="#cb10-258" aria-hidden="true" tabindex="-1"></a>         <span class="at">xref=</span><span class="st">'paper'</span>, <span class="at">yref=</span><span class="st">'paper'</span>,</span>
<span id="cb10-259"><a href="#cb10-259" aria-hidden="true" tabindex="-1"></a>         <span class="at">font =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"darkgray"</span>, <span class="at">size =</span> <span class="dv">12</span>)</span>
<span id="cb10-260"><a href="#cb10-260" aria-hidden="true" tabindex="-1"></a>         )), </span>
<span id="cb10-261"><a href="#cb10-261" aria-hidden="true" tabindex="-1"></a>  <span class="at">font =</span> <span class="fu">list</span>(<span class="at">family =</span> <span class="st">"Helvetica Neue"</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb10-262"><a href="#cb10-262" aria-hidden="true" tabindex="-1"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-6d2f015aa9de7a8c4bf7" style="width:100%;height:650px;"></div>
<script type="application/json" data-for="htmlwidget-6d2f015aa9de7a8c4bf7">{"x":{"data":[{"x":[2019,2023],"y":[29.164099999999998,38.0623],"text":["In <b>2019<\/b>, the Export was <b>S$ 29.1 billion<\/b> from <b>ASEAN<\/b>","In <b>2023<\/b>, the Export was <b>S$ 38.0 billion<\/b> from <b>ASEAN<\/b>"],"key":["ASEAN"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"ASEAN","legendgroup":"ASEAN","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(248,118,109,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[25.016200000000001,40.695500000000003],"text":["In <b>2019<\/b>, the Export was <b>S$ 25.0 billion<\/b> from <b>Australia<\/b>","In <b>2023<\/b>, the Export was <b>S$ 40.6 billion<\/b> from <b>Australia<\/b>"],"key":["Australia"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(222,140,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(222,140,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(222,140,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[32.486500000000007,71.193299999999979],"text":["In <b>2019<\/b>, the Export was <b>S$ 32.4 billion<\/b> from <b>European Union (EU-27)<\/b>","In <b>2023<\/b>, the Export was <b>S$ 71.1 billion<\/b> from <b>European Union (EU-27)<\/b>"],"key":["European Union (EU-27)"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(183,159,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"European Union (EU-27)","legendgroup":"European Union (EU-27)","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(183,159,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[11.273200000000001,21.6861],"text":["In <b>2019<\/b>, the Export was <b>S$ 11.2 billion<\/b> from <b>Hong Kong<\/b>","In <b>2023<\/b>, the Export was <b>S$ 21.6 billion<\/b> from <b>Hong Kong<\/b>"],"key":["Hong Kong"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Hong Kong","legendgroup":"Hong Kong","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(124,174,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[6.3834,9.9093999999999998],"text":["In <b>2019<\/b>, the Export was <b>S$ 6.3 billion<\/b> from <b>India<\/b>","In <b>2023<\/b>, the Export was <b>S$ 9.9 billion<\/b> from <b>India<\/b>"],"key":["India"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"India","legendgroup":"India","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,186,56,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[27.964299999999998,43.227599999999995],"text":["In <b>2019<\/b>, the Export was <b>S$ 27.9 billion<\/b> from <b>Japan<\/b>","In <b>2023<\/b>, the Export was <b>S$ 43.2 billion<\/b> from <b>Japan<\/b>"],"key":["Japan"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,192,139,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,139,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Japan","legendgroup":"Japan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,192,139,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[22.616700000000002,29.170400000000001],"text":["In <b>2019<\/b>, the Export was <b>S$ 22.6 billion<\/b> from <b>Mainland China<\/b>","In <b>2023<\/b>, the Export was <b>S$ 29.1 billion<\/b> from <b>Mainland China<\/b>"],"key":["Mainland China"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Mainland China","legendgroup":"Mainland China","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,191,196,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[4.6318000000000001,7.3860000000000001],"text":["In <b>2019<\/b>, the Export was <b>S$ 4.6 billion<\/b> from <b>Republic Of Korea<\/b>","In <b>2023<\/b>, the Export was <b>S$ 7.3 billion<\/b> from <b>Republic Of Korea<\/b>"],"key":["Republic Of Korea"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,180,240,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,180,240,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Republic Of Korea","legendgroup":"Republic Of Korea","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,180,240,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[11.151,16.532599999999999],"text":["In <b>2019<\/b>, the Export was <b>S$ 11.1 billion<\/b> from <b>Switzerland<\/b>","In <b>2023<\/b>, the Export was <b>S$ 16.5 billion<\/b> from <b>Switzerland<\/b>"],"key":["Switzerland"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(97,156,255,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[4.0755999999999997,5.6707999999999998],"text":["In <b>2019<\/b>, the Export was <b>S$ 4.0 billion<\/b> from <b>Taiwan<\/b>","In <b>2023<\/b>, the Export was <b>S$ 5.6 billion<\/b> from <b>Taiwan<\/b>"],"key":["Taiwan"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Taiwan","legendgroup":"Taiwan","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(199,124,255,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[13.785,20.2057],"text":["In <b>2019<\/b>, the Export was <b>S$ 13.7 billion<\/b> from <b>United Kingdom<\/b>","In <b>2023<\/b>, the Export was <b>S$ 20.2 billion<\/b> from <b>United Kingdom<\/b>"],"key":["United Kingdom"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(245,100,227,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(245,100,227,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[29.277200000000001,51.122800000000005],"text":["In <b>2019<\/b>, the Export was <b>S$ 29.2 billion<\/b> from <b>United States Of America<\/b>","In <b>2023<\/b>, the Export was <b>S$ 51.1 billion<\/b> from <b>United States Of America<\/b>"],"key":["United States Of America"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(255,100,176,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,100,176,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"United States Of America","legendgroup":"United States Of America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(255,100,176,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[29.164099999999998,38.0623],"text":[3,5],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 29.1 billion<\/b> from <b>ASEAN<\/b>","In <b>2023<\/b>, the Export was <b>S$ 38.0 billion<\/b> from <b>ASEAN<\/b>"],"key":["ASEAN"],"textfont":{"size":9.4488188976377963,"color":"rgba(248,118,109,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"ASEAN","legendgroup":"ASEAN","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(248,118,109,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[25.016200000000001,40.695500000000003],"text":[5,4],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 25.0 billion<\/b> from <b>Australia<\/b>","In <b>2023<\/b>, the Export was <b>S$ 40.6 billion<\/b> from <b>Australia<\/b>"],"key":["Australia"],"textfont":{"size":9.4488188976377963,"color":"rgba(222,140,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Australia","legendgroup":"Australia","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(222,140,0,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[32.486500000000007,71.193299999999979],"text":[1,1],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 32.4 billion<\/b> from <b>European Union (EU-27)<\/b>","In <b>2023<\/b>, the Export was <b>S$ 71.1 billion<\/b> from <b>European Union (EU-27)<\/b>"],"key":["European Union (EU-27)"],"textfont":{"size":9.4488188976377963,"color":"rgba(183,159,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"European Union (EU-27)","legendgroup":"European Union (EU-27)","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(183,159,0,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[11.273200000000001,21.6861],"text":[8,7],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 11.2 billion<\/b> from <b>Hong Kong<\/b>","In <b>2023<\/b>, the Export was <b>S$ 21.6 billion<\/b> from <b>Hong Kong<\/b>"],"key":["Hong Kong"],"textfont":{"size":9.4488188976377963,"color":"rgba(124,174,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Hong Kong","legendgroup":"Hong Kong","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(124,174,0,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[6.3834,9.9093999999999998],"text":[10,10],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 6.3 billion<\/b> from <b>India<\/b>","In <b>2023<\/b>, the Export was <b>S$ 9.9 billion<\/b> from <b>India<\/b>"],"key":["India"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,186,56,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"India","legendgroup":"India","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,186,56,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[27.964299999999998,43.227599999999995],"text":[4,3],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 27.9 billion<\/b> from <b>Japan<\/b>","In <b>2023<\/b>, the Export was <b>S$ 43.2 billion<\/b> from <b>Japan<\/b>"],"key":["Japan"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,192,139,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Japan","legendgroup":"Japan","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,192,139,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[22.616700000000002,29.170400000000001],"text":[6,6],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 22.6 billion<\/b> from <b>Mainland China<\/b>","In <b>2023<\/b>, the Export was <b>S$ 29.1 billion<\/b> from <b>Mainland China<\/b>"],"key":["Mainland China"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,191,196,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Mainland China","legendgroup":"Mainland China","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,191,196,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[4.6318000000000001,7.3860000000000001],"text":[11,11],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 4.6 billion<\/b> from <b>Republic Of Korea<\/b>","In <b>2023<\/b>, the Export was <b>S$ 7.3 billion<\/b> from <b>Republic Of Korea<\/b>"],"key":["Republic Of Korea"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,180,240,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Republic Of Korea","legendgroup":"Republic Of Korea","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,180,240,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[11.151,16.532599999999999],"text":[9,9],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 11.1 billion<\/b> from <b>Switzerland<\/b>","In <b>2023<\/b>, the Export was <b>S$ 16.5 billion<\/b> from <b>Switzerland<\/b>"],"key":["Switzerland"],"textfont":{"size":9.4488188976377963,"color":"rgba(97,156,255,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Switzerland","legendgroup":"Switzerland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(97,156,255,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[4.0755999999999997,5.6707999999999998],"text":[12,12],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 4.0 billion<\/b> from <b>Taiwan<\/b>","In <b>2023<\/b>, the Export was <b>S$ 5.6 billion<\/b> from <b>Taiwan<\/b>"],"key":["Taiwan"],"textfont":{"size":9.4488188976377963,"color":"rgba(199,124,255,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Taiwan","legendgroup":"Taiwan","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(199,124,255,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[13.785,20.2057],"text":[7,8],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 13.7 billion<\/b> from <b>United Kingdom<\/b>","In <b>2023<\/b>, the Export was <b>S$ 20.2 billion<\/b> from <b>United Kingdom<\/b>"],"key":["United Kingdom"],"textfont":{"size":9.4488188976377963,"color":"rgba(245,100,227,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(245,100,227,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[29.277200000000001,51.122800000000005],"text":[2,2],"hovertext":["In <b>2019<\/b>, the Export was <b>S$ 29.2 billion<\/b> from <b>United States Of America<\/b>","In <b>2023<\/b>, the Export was <b>S$ 51.1 billion<\/b> from <b>United States Of America<\/b>"],"key":["United States Of America"],"textfont":{"size":9.4488188976377963,"color":"rgba(255,100,176,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"United States Of America","legendgroup":"United States Of America","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(255,100,176,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[14.4803,19.6416],"text":["In <b>2019<\/b>, the Import was <b>S$ 14.4 billion<\/b> from <b>ASEAN<\/b>","In <b>2023<\/b>, the Import was <b>S$ 19.6 billion<\/b> from <b>ASEAN<\/b>"],"key":["ASEAN"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"ASEAN","legendgroup":"ASEAN","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(248,118,109,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[6.1486000000000001,9.0694999999999997],"text":["In <b>2019<\/b>, the Import was <b>S$ 6.1 billion<\/b> from <b>Australia<\/b>","In <b>2023<\/b>, the Import was <b>S$ 9.0 billion<\/b> from <b>Australia<\/b>"],"key":["Australia"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(222,140,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(222,140,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(222,140,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[37.383199999999988,38.741899999999994],"text":["In <b>2019<\/b>, the Import was <b>S$ 37.3 billion<\/b> from <b>European Union (EU-27)<\/b>","In <b>2023<\/b>, the Import was <b>S$ 38.7 billion<\/b> from <b>European Union (EU-27)<\/b>"],"key":["European Union (EU-27)"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(183,159,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"European Union (EU-27)","legendgroup":"European Union (EU-27)","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(183,159,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[13.093500000000001,20.255700000000001],"text":["In <b>2019<\/b>, the Import was <b>S$ 13.0 billion<\/b> from <b>Hong Kong<\/b>","In <b>2023<\/b>, the Import was <b>S$ 20.2 billion<\/b> from <b>Hong Kong<\/b>"],"key":["Hong Kong"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Hong Kong","legendgroup":"Hong Kong","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(124,174,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[7.8138999999999994,13.5326],"text":["In <b>2019<\/b>, the Import was <b>S$ 7.8 billion<\/b> from <b>India<\/b>","In <b>2023<\/b>, the Import was <b>S$ 13.5 billion<\/b> from <b>India<\/b>"],"key":["India"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"India","legendgroup":"India","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,186,56,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[14.597799999999999,18.922900000000002],"text":["In <b>2019<\/b>, the Import was <b>S$ 14.5 billion<\/b> from <b>Japan<\/b>","In <b>2023<\/b>, the Import was <b>S$ 18.9 billion<\/b> from <b>Japan<\/b>"],"key":["Japan"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,192,139,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,139,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Japan","legendgroup":"Japan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,192,139,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[15.792399999999999,35.742899999999999],"text":["In <b>2019<\/b>, the Import was <b>S$ 15.7 billion<\/b> from <b>Mainland China<\/b>","In <b>2023<\/b>, the Import was <b>S$ 35.7 billion<\/b> from <b>Mainland China<\/b>"],"key":["Mainland China"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Mainland China","legendgroup":"Mainland China","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,191,196,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[5.4233000000000002,8.1059999999999999],"text":["In <b>2019<\/b>, the Import was <b>S$ 5.4 billion<\/b> from <b>Republic Of Korea<\/b>","In <b>2023<\/b>, the Import was <b>S$ 8.1 billion<\/b> from <b>Republic Of Korea<\/b>"],"key":["Republic Of Korea"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,180,240,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,180,240,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Republic Of Korea","legendgroup":"Republic Of Korea","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,180,240,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[7.5331000000000001,10.7463],"text":["In <b>2019<\/b>, the Import was <b>S$ 7.5 billion<\/b> from <b>Switzerland<\/b>","In <b>2023<\/b>, the Import was <b>S$ 10.7 billion<\/b> from <b>Switzerland<\/b>"],"key":["Switzerland"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(97,156,255,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[6.2046000000000001,10.8263],"text":["In <b>2019<\/b>, the Import was <b>S$ 6.2 billion<\/b> from <b>Taiwan<\/b>","In <b>2023<\/b>, the Import was <b>S$ 10.8 billion<\/b> from <b>Taiwan<\/b>"],"key":["Taiwan"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Taiwan","legendgroup":"Taiwan","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(199,124,255,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[8.4047000000000001,16.655799999999999],"text":["In <b>2019<\/b>, the Import was <b>S$ 8.4 billion<\/b> from <b>United Kingdom<\/b>","In <b>2023<\/b>, the Import was <b>S$ 16.6 billion<\/b> from <b>United Kingdom<\/b>"],"key":["United Kingdom"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(245,100,227,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(245,100,227,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[50.735399999999998,108.02500000000001],"text":["In <b>2019<\/b>, the Import was <b>S$ 50.7 billion<\/b> from <b>United States Of America<\/b>","In <b>2023<\/b>, the Import was <b>S$ 108.0 billion<\/b> from <b>United States Of America<\/b>"],"key":["United States Of America"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(255,100,176,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,100,176,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"United States Of America","legendgroup":"United States Of America","showlegend":true,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(255,100,176,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[14.4803,19.6416],"text":[5,5],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 14.4 billion<\/b> from <b>ASEAN<\/b>","In <b>2023<\/b>, the Import was <b>S$ 19.6 billion<\/b> from <b>ASEAN<\/b>"],"key":["ASEAN"],"textfont":{"size":9.4488188976377963,"color":"rgba(248,118,109,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"ASEAN","legendgroup":"ASEAN","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(248,118,109,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[6.1486000000000001,9.0694999999999997],"text":[11,11],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 6.1 billion<\/b> from <b>Australia<\/b>","In <b>2023<\/b>, the Import was <b>S$ 9.0 billion<\/b> from <b>Australia<\/b>"],"key":["Australia"],"textfont":{"size":9.4488188976377963,"color":"rgba(222,140,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Australia","legendgroup":"Australia","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(222,140,0,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[37.383199999999988,38.741899999999994],"text":[2,2],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 37.3 billion<\/b> from <b>European Union (EU-27)<\/b>","In <b>2023<\/b>, the Import was <b>S$ 38.7 billion<\/b> from <b>European Union (EU-27)<\/b>"],"key":["European Union (EU-27)"],"textfont":{"size":9.4488188976377963,"color":"rgba(183,159,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"European Union (EU-27)","legendgroup":"European Union (EU-27)","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(183,159,0,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[13.093500000000001,20.255700000000001],"text":[6,4],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 13.0 billion<\/b> from <b>Hong Kong<\/b>","In <b>2023<\/b>, the Import was <b>S$ 20.2 billion<\/b> from <b>Hong Kong<\/b>"],"key":["Hong Kong"],"textfont":{"size":9.4488188976377963,"color":"rgba(124,174,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Hong Kong","legendgroup":"Hong Kong","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(124,174,0,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[7.8138999999999994,13.5326],"text":[8,8],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 7.8 billion<\/b> from <b>India<\/b>","In <b>2023<\/b>, the Import was <b>S$ 13.5 billion<\/b> from <b>India<\/b>"],"key":["India"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,186,56,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"India","legendgroup":"India","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,186,56,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[14.597799999999999,18.922900000000002],"text":[4,6],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 14.5 billion<\/b> from <b>Japan<\/b>","In <b>2023<\/b>, the Import was <b>S$ 18.9 billion<\/b> from <b>Japan<\/b>"],"key":["Japan"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,192,139,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Japan","legendgroup":"Japan","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,192,139,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[15.792399999999999,35.742899999999999],"text":[3,3],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 15.7 billion<\/b> from <b>Mainland China<\/b>","In <b>2023<\/b>, the Import was <b>S$ 35.7 billion<\/b> from <b>Mainland China<\/b>"],"key":["Mainland China"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,191,196,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Mainland China","legendgroup":"Mainland China","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,191,196,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[5.4233000000000002,8.1059999999999999],"text":[12,12],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 5.4 billion<\/b> from <b>Republic Of Korea<\/b>","In <b>2023<\/b>, the Import was <b>S$ 8.1 billion<\/b> from <b>Republic Of Korea<\/b>"],"key":["Republic Of Korea"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,180,240,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Republic Of Korea","legendgroup":"Republic Of Korea","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,180,240,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[7.5331000000000001,10.7463],"text":[9,10],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 7.5 billion<\/b> from <b>Switzerland<\/b>","In <b>2023<\/b>, the Import was <b>S$ 10.7 billion<\/b> from <b>Switzerland<\/b>"],"key":["Switzerland"],"textfont":{"size":9.4488188976377963,"color":"rgba(97,156,255,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Switzerland","legendgroup":"Switzerland","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(97,156,255,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[6.2046000000000001,10.8263],"text":[10,9],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 6.2 billion<\/b> from <b>Taiwan<\/b>","In <b>2023<\/b>, the Import was <b>S$ 10.8 billion<\/b> from <b>Taiwan<\/b>"],"key":["Taiwan"],"textfont":{"size":9.4488188976377963,"color":"rgba(199,124,255,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Taiwan","legendgroup":"Taiwan","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(199,124,255,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[8.4047000000000001,16.655799999999999],"text":[7,7],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 8.4 billion<\/b> from <b>United Kingdom<\/b>","In <b>2023<\/b>, the Import was <b>S$ 16.6 billion<\/b> from <b>United Kingdom<\/b>"],"key":["United Kingdom"],"textfont":{"size":9.4488188976377963,"color":"rgba(245,100,227,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(245,100,227,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.6999999999998,2023.1999999999998],"y":[50.735399999999998,108.02500000000001],"text":[1,1],"hovertext":["In <b>2019<\/b>, the Import was <b>S$ 50.7 billion<\/b> from <b>United States Of America<\/b>","In <b>2023<\/b>, the Import was <b>S$ 108.0 billion<\/b> from <b>United States Of America<\/b>"],"key":["United States Of America"],"textfont":{"size":9.4488188976377963,"color":"rgba(255,100,176,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"United States Of America","legendgroup":"United States Of America","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(255,100,176,1)","font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[43.644399999999997,57.703900000000004],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 43.6 billion<\/b> from <b>ASEAN<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 57.7 billion<\/b> from <b>ASEAN<\/b>"],"key":["ASEAN"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"ASEAN","legendgroup":"ASEAN","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(248,118,109,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[31.1648,49.765000000000001],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 31.1 billion<\/b> from <b>Australia<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 49.7 billion<\/b> from <b>Australia<\/b>"],"key":["Australia"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(222,140,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(222,140,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Australia","legendgroup":"Australia","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(222,140,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[69.869699999999995,109.93519999999998],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 69.8 billion<\/b> from <b>European Union (EU-27)<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 109.9 billion<\/b> from <b>European Union (EU-27)<\/b>"],"key":["European Union (EU-27)"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(183,159,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"European Union (EU-27)","legendgroup":"European Union (EU-27)","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(183,159,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[24.366700000000002,41.941800000000001],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 24.3 billion<\/b> from <b>Hong Kong<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 41.9 billion<\/b> from <b>Hong Kong<\/b>"],"key":["Hong Kong"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Hong Kong","legendgroup":"Hong Kong","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(124,174,0,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[14.197299999999998,23.442],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 14.1 billion<\/b> from <b>India<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 23.4 billion<\/b> from <b>India<\/b>"],"key":["India"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"India","legendgroup":"India","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,186,56,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[42.562100000000001,62.150499999999994],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 42.5 billion<\/b> from <b>Japan<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 62.1 billion<\/b> from <b>Japan<\/b>"],"key":["Japan"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,192,139,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,139,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Japan","legendgroup":"Japan","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,192,139,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[38.409100000000002,64.913299999999992],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 38.4 billion<\/b> from <b>Mainland China<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 64.9 billion<\/b> from <b>Mainland China<\/b>"],"key":["Mainland China"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Mainland China","legendgroup":"Mainland China","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,191,196,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[10.055099999999999,15.492000000000001],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 10.0 billion<\/b> from <b>Republic Of Korea<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 15.4 billion<\/b> from <b>Republic Of Korea<\/b>"],"key":["Republic Of Korea"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(0,180,240,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,180,240,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Republic Of Korea","legendgroup":"Republic Of Korea","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(0,180,240,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[18.684100000000001,27.2789],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 18.6 billion<\/b> from <b>Switzerland<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 27.2 billion<\/b> from <b>Switzerland<\/b>"],"key":["Switzerland"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Switzerland","legendgroup":"Switzerland","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(97,156,255,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[10.280200000000001,16.4971],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 10.2 billion<\/b> from <b>Taiwan<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 16.4 billion<\/b> from <b>Taiwan<\/b>"],"key":["Taiwan"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"Taiwan","legendgroup":"Taiwan","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(199,124,255,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[22.189700000000002,36.861499999999999],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 22.1 billion<\/b> from <b>United Kingdom<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 36.8 billion<\/b> from <b>United Kingdom<\/b>"],"key":["United Kingdom"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(245,100,227,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(245,100,227,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2019,2023],"y":[80.012599999999992,159.14780000000002],"text":["In <b>2019<\/b>, the Total Trade was <b>S$ 80.0 billion<\/b> from <b>United States Of America<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 159.1 billion<\/b> from <b>United States Of America<\/b>"],"key":["United States Of America"],"type":"scatter","mode":"markers+lines","marker":{"autocolorscale":false,"color":"rgba(255,100,176,1)","opacity":1,"size":3.7795275590551185,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,100,176,1)"}},"hoveron":"points","set":"SharedData04307fe2","name":"United States Of America","legendgroup":"United States Of America","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","line":{"width":1.889764,"color":"rgba(255,100,176,0.55)","dash":"solid"},"hoverlabel":{"bgcolor":null,"font":{"color":"black","size":12}},"_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[43.644399999999997,57.703900000000004],"text":["3","5 ASEAN"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 43.6 billion<\/b> from <b>ASEAN<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 57.7 billion<\/b> from <b>ASEAN<\/b>"],"key":["ASEAN"],"textfont":{"size":9.4488188976377963,"color":"rgba(248,118,109,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"ASEAN","legendgroup":"ASEAN","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(248,118,109,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[31.1648,49.765000000000001],"text":["6","6 Australia"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 31.1 billion<\/b> from <b>Australia<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 49.7 billion<\/b> from <b>Australia<\/b>"],"key":["Australia"],"textfont":{"size":9.4488188976377963,"color":"rgba(222,140,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Australia","legendgroup":"Australia","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(222,140,0,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[69.869699999999995,109.93519999999998],"text":["2","2 European Union (EU-27)"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 69.8 billion<\/b> from <b>European Union (EU-27)<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 109.9 billion<\/b> from <b>European Union (EU-27)<\/b>"],"key":["European Union (EU-27)"],"textfont":{"size":9.4488188976377963,"color":"rgba(183,159,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"European Union (EU-27)","legendgroup":"European Union (EU-27)","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(183,159,0,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[24.366700000000002,41.941800000000001],"text":["7","7 Hong Kong"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 24.3 billion<\/b> from <b>Hong Kong<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 41.9 billion<\/b> from <b>Hong Kong<\/b>"],"key":["Hong Kong"],"textfont":{"size":9.4488188976377963,"color":"rgba(124,174,0,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Hong Kong","legendgroup":"Hong Kong","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(124,174,0,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[14.197299999999998,23.442],"text":["10","10 India"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 14.1 billion<\/b> from <b>India<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 23.4 billion<\/b> from <b>India<\/b>"],"key":["India"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,186,56,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"India","legendgroup":"India","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,186,56,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[42.562100000000001,62.150499999999994],"text":["4","4 Japan"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 42.5 billion<\/b> from <b>Japan<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 62.1 billion<\/b> from <b>Japan<\/b>"],"key":["Japan"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,192,139,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Japan","legendgroup":"Japan","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,192,139,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[38.409100000000002,65.913299999999992],"text":["5","3 Mainland China"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 38.4 billion<\/b> from <b>Mainland China<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 64.9 billion<\/b> from <b>Mainland China<\/b>"],"key":["Mainland China"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,191,196,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Mainland China","legendgroup":"Mainland China","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,191,196,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[10.055099999999999,12.492000000000001],"text":["12","12 Republic Of Korea"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 10.0 billion<\/b> from <b>Republic Of Korea<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 15.4 billion<\/b> from <b>Republic Of Korea<\/b>"],"key":["Republic Of Korea"],"textfont":{"size":9.4488188976377963,"color":"rgba(0,180,240,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Republic Of Korea","legendgroup":"Republic Of Korea","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(0,180,240,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[18.684100000000001,27.2789],"text":["9","9 Switzerland"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 18.6 billion<\/b> from <b>Switzerland<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 27.2 billion<\/b> from <b>Switzerland<\/b>"],"key":["Switzerland"],"textfont":{"size":9.4488188976377963,"color":"rgba(97,156,255,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Switzerland","legendgroup":"Switzerland","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(97,156,255,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[10.280200000000001,16.4971],"text":["11","11 Taiwan"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 10.2 billion<\/b> from <b>Taiwan<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 16.4 billion<\/b> from <b>Taiwan<\/b>"],"key":["Taiwan"],"textfont":{"size":9.4488188976377963,"color":"rgba(199,124,255,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"Taiwan","legendgroup":"Taiwan","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(199,124,255,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[22.189700000000002,36.861499999999999],"text":["8","8 United Kingdom"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 22.1 billion<\/b> from <b>United Kingdom<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 36.8 billion<\/b> from <b>United Kingdom<\/b>"],"key":["United Kingdom"],"textfont":{"size":9.4488188976377963,"color":"rgba(245,100,227,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"United Kingdom","legendgroup":"United Kingdom","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(245,100,227,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null},{"x":[2018.5999999999999,2023.0999999999999],"y":[80.012599999999992,159.14780000000002],"text":["1","1 United States Of America"],"hovertext":["In <b>2019<\/b>, the Total Trade was <b>S$ 80.0 billion<\/b> from <b>United States Of America<\/b>","In <b>2023<\/b>, the Total Trade was <b>S$ 159.1 billion<\/b> from <b>United States Of America<\/b>"],"key":["United States Of America"],"textfont":{"size":9.4488188976377963,"color":"rgba(255,100,176,1)"},"type":"scatter","mode":"text","hoveron":"points","set":"SharedData04307fe2","name":"United States Of America","legendgroup":"United States Of America","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","hoverlabel":{"bgcolor":"rgba(255,100,176,1)","font":{"color":"black","size":12}},"textposition":"right","_isSimpleKey":true,"_isNestedKey":false,"frame":null}],"layout":{"xaxis":{"domain":[0,0.27999999999999997],"automargin":true,"type":"linear","autorange":false,"range":[2018.25,2023.75],"tickmode":"array","ticktext":["2019","2023"],"tickvals":[2019,2023],"categoryorder":"array","categoryarray":["2019","2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"xaxis2":{"domain":[0.32000000000000001,0.57999999999999996],"automargin":true,"type":"linear","autorange":false,"range":[2018.25,2023.75],"tickmode":"array","ticktext":["2019","2023"],"tickvals":[2019,2023],"categoryorder":"array","categoryarray":["2019","2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y2","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"xaxis3":{"domain":[0.62,1],"automargin":true,"type":"linear","autorange":false,"range":[2018.125,2026.375],"tickmode":"array","ticktext":["2019","2023"],"tickvals":[2019,2023],"categoryorder":"array","categoryarray":["2019","2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y3","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"yaxis3":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-8,168],"tickmode":"array","ticktext":["5","20","35","50","65","80","95","110","125","140","155"],"tickvals":[5,20,35,50,65,80,95,110,125,140,155],"categoryorder":"array","categoryarray":["5","20","35","50","65","80","95","110","125","140","155"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x3","hoverformat":".2f"},"yaxis2":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.5,115.5],"tickmode":"array","ticktext":["5","15","25","35","45","55","65","75","85","95","105"],"tickvals":[5,15,25,35,45,55,65,75,85,95,105],"categoryorder":"array","categoryarray":["5","15","25","35","45","55","65","75","85","95","105"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x2","hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-5.5,115.5],"tickmode":"array","ticktext":["5","15","25","35","45","55","65","75","85","95","105"],"tickvals":[5,15,25,35,45,55,65,75,85,95,105],"categoryorder":"array","categoryarray":["5","15","25","35","45","55","65","75","85","95","105"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","hoverformat":".2f"},"annotations":[{"x":0,"y":1.0149999999999999,"text":"The slopegraph illustrates the changes in services trade with Singapore’s top 12 trading partners.","showarrow":false,"xref":"paper","yref":"paper","font":{"color":"black"}},{"x":0,"y":0.98999999999999999,"text":"Click on the points and region names to highlight specific countries and regions.","showarrow":false,"xref":"paper","yref":"paper","font":{"color":"black"}},{"x":0.02,"y":0.93000000000000005,"text":"Exports","showarrow":false,"xref":"paper","yref":"paper","font":{"color":"white"},"bgcolor":"#73ad00","bordercolor":"#73ad00","borderpad":8,"borderwidth":1.5},{"x":0.34999999999999998,"y":0.93000000000000005,"text":"Imports","showarrow":false,"xref":"paper","yref":"paper","font":{"color":"white"},"bgcolor":"#3883c9","bordercolor":"#3883c9","borderpad":8,"borderwidth":1.5},{"x":0.71999999999999997,"y":0.93000000000000005,"text":"Total Trade","showarrow":false,"xref":"paper","yref":"paper","font":{"color":"white"},"bgcolor":"#f76a80","bordercolor":"#f76a80","borderpad":8,"borderwidth":1.5},{"x":1,"y":-0.050000000000000003,"text":"Data Source: Singstat.gov.sg | Graphic: Vivian Chew","showarrow":false,"xref":"paper","yref":"paper","font":{"color":"darkgray","size":12}}],"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.27999999999999997,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.32000000000000001,"x1":0.57999999999999996,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.62,"x1":1,"y0":0,"y1":1}],"images":[],"margin":{"t":23.305936073059364,"r":7.3059360730593621,"b":50,"l":10.958904109589042},"font":{"color":"black","family":"Helvetica Neue","size":14},"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative","dragmode":"zoom","title":{"text":"<b>Major Trading Partners for Trade In Services<\/b>","font":{"family":"Helvetica Neue","size":18,"color":"black"},"x":0.02,"y":1}},"attrs":{"50d43ec5cde2":{"x":{},"y":{},"colour":{},"type":"scatter"},"50d42c4fd0a0":{"x":{},"y":{},"colour":{},"alpha":{}},"50d42c09cf1a":{"x":{},"y":{},"colour":{},"label":{}},"50d47ad0bb07":{"x":{},"y":{},"colour":{},"type":"scatter"},"50d41da7078f":{"x":{},"y":{},"colour":{},"alpha":{}},"50d440e14c7e":{"x":{},"y":{},"colour":{},"label":{}},"50d4377121e":{"x":{},"y":{},"colour":{},"type":"scatter"},"50d47e467158":{"x":{},"y":{},"colour":{},"alpha":{}},"50d442bb892c":{"x":{},"y":{},"colour":{},"label":{}}},"source":"A","config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","off":"plotly_doubleclick","persistent":false,"dynamic":false,"color":null,"selectize":false,"defaultValues":null,"opacityDim":0.25,"selected":{"opacity":1},"debounce":0,"ctGroups":["SharedData04307fe2"]},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Instead of labelling the values as shown in the draft. I labelled the ranking instead, so we don’t have to manually count what position the country is ranked. We can also clearly see the change in ranking. If the values are needed, the viewer can just hover over to look at it.</p>
<p>Also note that:</p>
<ul>
<li>ASEAN includes Brunei Darussalam, Cambodia, Indonesia, Lao People’s Democratic Republic, Malaysia, Myanmar, Philippines, Thailand and Vietnam.</li>
<li>The European Union (EU-27) comprises Austria, Belgium, Bulgaria, Croatia, Cyprus, Czech Rep, Denmark, Estonia, Finland, France, Germany, Greece, Hungary, Ireland, Italy, Latvia, Lithuania, Luxembourg, Malta, Netherlands, Poland, Portugal, Romania, Slovak Rep, Slovenia, Spain and Sweden.</li>
</ul>
</section>
</section>
<section id="third-makeover" class="level2">
<h2 class="anchored" data-anchor-id="third-makeover">3.3 Third Makeover</h2>
<section id="the-original-2" class="level3">
<h3 class="anchored" data-anchor-id="the-original-2">The Original</h3>
<p><img src="ref_viz/viz3.png" class="img-fluid" alt="Fig 3a. The third figure we will be making over is a donut chart"> The strengths of the chart lie in the use of distinct colors, which effectively differentiate the various groups. Additionally, the clear and concise labels make it easy to identify the proportions. However, a drawback is the excessive number of groups, which causes some sections of the pie to be unclear.</p>
<p>While the designer has done a good job in conveying the proportions, I would suggest extending the visualization to highlight trends over time, given that this is a time-series challenge. A streamplot could be an effective way to display the changes in proportions over time, providing a clearer view of how the data evolves.</p>
<p><img src="ref_viz/sugviz3.png" class="img-fluid" alt="Fig 3b. Suggested streamplot, if possible, or a stacked area plot"> For the actual implementation, a stacked area plot was used instead of a streamplot. This was because the trend shows a general increase, and a streamplot may not be the best choice in this case, as it could introduce unnecessary artifacts in the data representation. The stacked area plot provides a clearer and more straightforward visualization of the trend. The Government services category was also combined with the Other Business Services category as it constitutes the lowest proportion. The merging was done to reduce the number of categories.</p>
</section>
<section id="the-makeover-1" class="level3">
<h3 class="anchored" data-anchor-id="the-makeover-1">The Makeover</h3>
<div class="cell">
<details class="code-fold">
<summary>Data preprocessing</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>svc_trade_by_cat <span class="ot">&lt;-</span> svc_trade_long <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Government Goods And Services"</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Other Business Services"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>, Year) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="st">`</span><span class="at">SGD</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">SGD (Million)</span><span class="st">`</span><span class="sc">/</span><span class="dv">1000</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.factor</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>))</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>category_mapping <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Transport"</span> <span class="ot">=</span> <span class="st">"Transport"</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Other Business Services"</span> <span class="ot">=</span> <span class="st">"Other Biz"</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Financial"</span> <span class="ot">=</span> <span class="st">"Financial"</span>,</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Telecommunications, Computer &amp; Information"</span> <span class="ot">=</span> <span class="st">"Telecom &amp; IT"</span>,</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Travel"</span> <span class="ot">=</span> <span class="st">"Travel"</span>,</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Charges For The Use Of Intellectual Property"</span> <span class="ot">=</span> <span class="st">"Intellectual Prop"</span>,</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Insurance"</span> <span class="ot">=</span> <span class="st">"Insurance"</span>,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Maintenance And Repair Services"</span> <span class="ot">=</span> <span class="st">"Maintenance"</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Manufacturing Services On Physical Inputs Owned By Others"</span> <span class="ot">=</span> <span class="st">"Manufacturing"</span>,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Personal, Cultural And Recreational"</span> <span class="ot">=</span> <span class="st">"Personal &amp; Cultural"</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Construction"</span> <span class="ot">=</span> <span class="st">"Construction"</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>svc_trade_by_cat <span class="ot">&lt;-</span> svc_trade_by_cat <span class="sc">%&gt;%</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">recode</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="sc">!!!</span>category_mapping))</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting the order for the hierarchy of the plot</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>order <span class="ot">&lt;-</span> svc_trade_by_cat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">SGD</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Total</span><span class="st">`</span>))</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>order <span class="ot">&lt;-</span> order<span class="sc">$</span><span class="st">`</span><span class="at">Major Category</span><span class="st">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Getting text annotation positions</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># For annotation of the text points. In the end the values are manipulated in the last array, but the base values</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># were defined from this set of code.</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>svc_trade_export_val_2024 <span class="ot">&lt;-</span> svc_trade_by_cat <span class="sc">%&gt;%</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2024</span> <span class="sc">&amp;</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">'Export'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="at">levels =</span> order)) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Cumulative_Sum =</span> <span class="fu">cumsum</span>(<span class="st">`</span><span class="at">SGD</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>svc_trade_export_val_2024<span class="sc">$</span>Roll <span class="ot">&lt;-</span> <span class="fu">rollmean</span>(svc_trade_export_val_2024<span class="sc">$</span>Cumulative_Sum, </span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">k =</span> <span class="dv">2</span>, <span class="at">fill =</span> svc_trade_export_val_2024<span class="sc">$</span>Cumulative_Sum[[<span class="dv">1</span>]], </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">align =</span> <span class="st">"right"</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>svc_trade_export_val_2024<span class="sc">$</span>Roll <span class="ot">&lt;-</span> svc_trade_export_val_2024<span class="sc">$</span>Roll <span class="sc">*</span> <span class="fl">1.1</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>svc_trade_export_val_2024<span class="sc">$</span>Roll <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">581.42513</span>, <span class="fl">466.29103</span>, <span class="fl">286.52903</span>, <span class="fl">172.53065</span>, <span class="fl">140.52777</span>, <span class="fl">110.36837</span>, </span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>                                    <span class="fl">90.40066</span>, <span class="fl">70.00528</span>, <span class="fl">50.09414</span>, <span class="fl">30.88403</span>, <span class="fl">10.96793</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>svc_trade_import_val_2024 <span class="ot">&lt;-</span> svc_trade_by_cat <span class="sc">%&gt;%</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2024</span> <span class="sc">&amp;</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">'Import'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="at">levels =</span> order)) <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Cumulative_Sum =</span> <span class="fu">cumsum</span>(<span class="st">`</span><span class="at">SGD</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>svc_trade_import_val_2024<span class="sc">$</span>Roll <span class="ot">&lt;-</span> <span class="fu">rollmean</span>(svc_trade_import_val_2024<span class="sc">$</span>Cumulative_Sum, </span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">k =</span> <span class="dv">2</span>, <span class="at">fill =</span> svc_trade_import_val_2024<span class="sc">$</span>Cumulative_Sum[[<span class="dv">1</span>]], </span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">align =</span> <span class="st">"right"</span>)</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>svc_trade_import_val_2024<span class="sc">$</span>Roll <span class="ot">&lt;-</span> svc_trade_import_val_2024<span class="sc">$</span>Roll <span class="sc">*</span> <span class="fl">1.1</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>svc_trade_import_val_2024<span class="sc">$</span>Roll <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">516.099650</span>, <span class="fl">406.992280</span>, <span class="fl">225.728440</span>, <span class="fl">160.798055</span>, <span class="fl">124.086435</span>, </span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>                                    <span class="fl">105.163955</span>,  <span class="fl">88.944805</span>,  <span class="fl">68.877570</span>,  <span class="fl">48.004660</span>,  <span class="fl">28.538805</span>, <span class="fl">10.112220</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Plotting the graph with ggstream</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspired from https://r-graph-gallery.com/web-stacked-area-chart-inline-labels.html</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>pal <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'#5c6ac0'</span>, <span class="st">'#bd76ac'</span>, <span class="st">'#8c6238'</span>, <span class="st">'#35506a'</span>, <span class="st">'#6d98bb'</span>, <span class="st">'#ff718b'</span>, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">'#9b3d4b'</span>, <span class="st">'#04abc1'</span>, <span class="st">'#7ecc6b'</span>,<span class="st">'#349098'</span>, <span class="st">'#feab40'</span>, <span class="st">'#cfa61d'</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert hex colors to RGB values</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>rgb_values <span class="ot">&lt;-</span> <span class="fu">col2rgb</span>(pal)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the red component and order the colors by red value</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>sorted_pal <span class="ot">&lt;-</span> pal[<span class="fu">order</span>(rgb_values[<span class="dv">1</span>, ], <span class="at">decreasing =</span> <span class="cn">TRUE</span>)]</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the sorted palette</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>gradient_pal <span class="ot">&lt;-</span> <span class="fu">colorRampPalette</span>(sorted_pal)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>grad_colors <span class="ot">&lt;-</span> <span class="fu">gradient_pal</span>(<span class="dv">23</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>slp1 <span class="ot">&lt;-</span> svc_trade_by_cat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2014</span> <span class="sc">&amp;</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">'Export'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="at">levels=</span>order)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> <span class="st">`</span><span class="at">SGD</span><span class="st">`</span>, </span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, </span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>             <span class="at">label =</span> <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, </span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stream</span>(<span class="at">type =</span> <span class="st">"ridge"</span>, <span class="at">bw=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>grad_colors) <span class="sc">+</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>grad_colors) <span class="sc">+</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">2020</span>, <span class="dv">2024</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2015"</span>,<span class="st">"2020"</span>,<span class="st">"2024"</span>)) <span class="sc">+</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">2027</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">950</span>)) <span class="sc">+</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> svc_trade_export_val_2024,</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Roll</span><span class="st">`</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="st">" S$ "</span>, <span class="fu">round</span>(<span class="st">`</span><span class="at">SGD</span><span class="st">`</span>, <span class="dv">1</span>), <span class="st">" B"</span>)),  <span class="co"># Place labels to the left of the plot</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>,  <span class="co"># Right-align text</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>,  <span class="co"># Adjust text size</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">nudge_x =</span> <span class="fl">0.1</span>,</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">700</span>,</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Exports"</span>,</span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="dv">0</span>,</span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">10</span>,</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">9</span>,</span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>, <span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">2015</span>, <span class="at">yend =</span> <span class="dv">211</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">211</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">211</span> <span class="sc">+</span> <span class="dv">200</span>,</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"S$ 211 B"</span>,</span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="fl">0.5</span>,</span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">8</span>,</span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>,<span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2020</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">2020</span>, <span class="at">yend =</span> <span class="dv">300</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2020</span>, <span class="at">y =</span> <span class="dv">300</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2020</span>, <span class="at">y =</span> <span class="dv">300</span> <span class="sc">+</span> <span class="dv">200</span>,</span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"S$ 300 B"</span>,</span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="fl">0.5</span>,</span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb13-71"><a href="#cb13-71" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">8</span>,</span>
<span id="cb13-72"><a href="#cb13-72" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>,<span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-73"><a href="#cb13-73" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-74"><a href="#cb13-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-75"><a href="#cb13-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">2024</span>, <span class="at">yend =</span> <span class="dv">529</span> <span class="sc">+</span> <span class="dv">350</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-76"><a href="#cb13-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="dv">529</span> <span class="sc">+</span> <span class="dv">350</span>), <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-77"><a href="#cb13-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="dv">529</span> <span class="sc">+</span> <span class="dv">370</span>,</span>
<span id="cb13-78"><a href="#cb13-78" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"S$ 529 B"</span>,</span>
<span id="cb13-79"><a href="#cb13-79" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="fl">1.1</span>,</span>
<span id="cb13-80"><a href="#cb13-80" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb13-81"><a href="#cb13-81" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">8</span>,</span>
<span id="cb13-82"><a href="#cb13-82" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>,<span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-83"><a href="#cb13-83" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>)</span>
<span id="cb13-84"><a href="#cb13-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-85"><a href="#cb13-85" aria-hidden="true" tabindex="-1"></a>slp2 <span class="ot">&lt;-</span> svc_trade_by_cat <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">&gt;</span> <span class="dv">2014</span> <span class="sc">&amp;</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">'Import'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-86"><a href="#cb13-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="at">levels=</span>order)) <span class="sc">%&gt;%</span> </span>
<span id="cb13-87"><a href="#cb13-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Year, </span>
<span id="cb13-88"><a href="#cb13-88" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> <span class="st">`</span><span class="at">SGD</span><span class="st">`</span>, </span>
<span id="cb13-89"><a href="#cb13-89" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, </span>
<span id="cb13-90"><a href="#cb13-90" aria-hidden="true" tabindex="-1"></a>             <span class="at">label =</span> <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, </span>
<span id="cb13-91"><a href="#cb13-91" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb13-92"><a href="#cb13-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stream</span>(<span class="at">type =</span> <span class="st">"ridge"</span>, <span class="at">bw=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb13-93"><a href="#cb13-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-94"><a href="#cb13-94" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values=</span>grad_colors) <span class="sc">+</span></span>
<span id="cb13-95"><a href="#cb13-95" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values=</span>grad_colors) <span class="sc">+</span></span>
<span id="cb13-96"><a href="#cb13-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb13-97"><a href="#cb13-97" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb13-98"><a href="#cb13-98" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-99"><a href="#cb13-99" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-100"><a href="#cb13-100" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-101"><a href="#cb13-101" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-102"><a href="#cb13-102" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-103"><a href="#cb13-103" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-104"><a href="#cb13-104" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb13-105"><a href="#cb13-105" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor.x =</span> <span class="fu">element_blank</span>()</span>
<span id="cb13-106"><a href="#cb13-106" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-107"><a href="#cb13-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">2020</span>, <span class="dv">2024</span>),<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"2015"</span>,<span class="st">"2020"</span>,<span class="st">"2024"</span>)) <span class="sc">+</span></span>
<span id="cb13-108"><a href="#cb13-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb13-109"><a href="#cb13-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">2027</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">950</span>)) <span class="sc">+</span></span>
<span id="cb13-110"><a href="#cb13-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(</span>
<span id="cb13-111"><a href="#cb13-111" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> svc_trade_import_val_2024,</span>
<span id="cb13-112"><a href="#cb13-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="st">`</span><span class="at">Roll</span><span class="st">`</span>, <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">`</span><span class="at">Major Category</span><span class="st">`</span>, <span class="st">" S$ "</span>, <span class="fu">round</span>(<span class="st">`</span><span class="at">SGD</span><span class="st">`</span>, <span class="dv">1</span>), <span class="st">" B"</span>)),</span>
<span id="cb13-113"><a href="#cb13-113" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>,  <span class="co"># Right-align text</span></span>
<span id="cb13-114"><a href="#cb13-114" aria-hidden="true" tabindex="-1"></a>    <span class="at">size =</span> <span class="fl">2.5</span>,  <span class="co"># Adjust text size</span></span>
<span id="cb13-115"><a href="#cb13-115" aria-hidden="true" tabindex="-1"></a>    <span class="at">nudge_x =</span> <span class="fl">0.1</span>,</span>
<span id="cb13-116"><a href="#cb13-116" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb13-117"><a href="#cb13-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">700</span>,</span>
<span id="cb13-118"><a href="#cb13-118" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"Imports"</span>,</span>
<span id="cb13-119"><a href="#cb13-119" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="dv">0</span>,</span>
<span id="cb13-120"><a href="#cb13-120" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">10</span>,</span>
<span id="cb13-121"><a href="#cb13-121" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">9</span>,</span>
<span id="cb13-122"><a href="#cb13-122" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>, <span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-123"><a href="#cb13-123" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-124"><a href="#cb13-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">2015</span>, <span class="at">yend =</span> <span class="dv">222</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-125"><a href="#cb13-125" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">222</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-126"><a href="#cb13-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2015</span>, <span class="at">y =</span> <span class="dv">222</span> <span class="sc">+</span> <span class="dv">200</span>,</span>
<span id="cb13-127"><a href="#cb13-127" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"S$ 222 B"</span>,</span>
<span id="cb13-128"><a href="#cb13-128" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="fl">0.5</span>,</span>
<span id="cb13-129"><a href="#cb13-129" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb13-130"><a href="#cb13-130" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">8</span>,</span>
<span id="cb13-131"><a href="#cb13-131" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>,<span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-132"><a href="#cb13-132" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-133"><a href="#cb13-133" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-134"><a href="#cb13-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2020</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">2020</span>, <span class="at">yend =</span> <span class="dv">290</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-135"><a href="#cb13-135" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2020</span>, <span class="at">y =</span> <span class="dv">290</span> <span class="sc">+</span> <span class="dv">180</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-136"><a href="#cb13-136" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2020</span>, <span class="at">y =</span> <span class="dv">290</span> <span class="sc">+</span> <span class="dv">200</span>,</span>
<span id="cb13-137"><a href="#cb13-137" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"S$ 290 B"</span>,</span>
<span id="cb13-138"><a href="#cb13-138" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="fl">0.5</span>,</span>
<span id="cb13-139"><a href="#cb13-139" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb13-140"><a href="#cb13-140" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">8</span>,</span>
<span id="cb13-141"><a href="#cb13-141" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>,<span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-142"><a href="#cb13-142" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-143"><a href="#cb13-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-144"><a href="#cb13-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">2024</span>, <span class="at">yend =</span> <span class="dv">469</span> <span class="sc">+</span> <span class="dv">350</span>),<span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-145"><a href="#cb13-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="dv">469</span> <span class="sc">+</span> <span class="dv">350</span>), <span class="at">color=</span><span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-146"><a href="#cb13-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">2024</span>, <span class="at">y =</span> <span class="dv">469</span> <span class="sc">+</span> <span class="dv">370</span>,</span>
<span id="cb13-147"><a href="#cb13-147" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">"S$ 469 B"</span>,</span>
<span id="cb13-148"><a href="#cb13-148" aria-hidden="true" tabindex="-1"></a>           <span class="at">hjust=</span><span class="fl">1.1</span>,</span>
<span id="cb13-149"><a href="#cb13-149" aria-hidden="true" tabindex="-1"></a>           <span class="at">size=</span><span class="dv">3</span>,</span>
<span id="cb13-150"><a href="#cb13-150" aria-hidden="true" tabindex="-1"></a>           <span class="at">lineheight=</span>.<span class="dv">8</span>,</span>
<span id="cb13-151"><a href="#cb13-151" aria-hidden="true" tabindex="-1"></a>           <span class="at">fontface=</span><span class="st">"bold"</span>,<span class="at">family=</span><span class="st">"Helvetica Neue"</span>,</span>
<span id="cb13-152"><a href="#cb13-152" aria-hidden="true" tabindex="-1"></a>           <span class="at">color=</span><span class="st">"black"</span>)</span>
<span id="cb13-153"><a href="#cb13-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-154"><a href="#cb13-154" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> slp1 <span class="sc">+</span> slp2</span>
<span id="cb13-155"><a href="#cb13-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-156"><a href="#cb13-156" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a global title</span></span>
<span id="cb13-157"><a href="#cb13-157" aria-hidden="true" tabindex="-1"></a>combined_plot <span class="ot">&lt;-</span> combined_plot <span class="sc">+</span></span>
<span id="cb13-158"><a href="#cb13-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_annotation</span>(</span>
<span id="cb13-159"><a href="#cb13-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Trade of Services By Services Category (2015 - 2024)"</span>,</span>
<span id="cb13-160"><a href="#cb13-160" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">"The stacked area chart shows the proportion of services trade by category over the years."</span>,</span>
<span id="cb13-161"><a href="#cb13-161" aria-hidden="true" tabindex="-1"></a>    <span class="at">theme =</span> <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">family=</span><span class="st">"Helvetica Neue"</span>)),</span>
<span id="cb13-162"><a href="#cb13-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Data Source: Singstat.gov.sg | Graphic: Vivian Chew"</span></span>
<span id="cb13-163"><a href="#cb13-163" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-164"><a href="#cb13-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-165"><a href="#cb13-165" aria-hidden="true" tabindex="-1"></a>combined_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="1056"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="time-series-analysis-1" class="level1">
<h1>4 Time Series Analysis</h1>
<section id="data-processing-exploration" class="level2">
<h2 class="anchored" data-anchor-id="data-processing-exploration">4.1 Data Processing &amp; Exploration</h2>
<div class="cell">
<details class="code-fold">
<summary>Data processing</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>merch_import_comm <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/sg_merchandise_trade_commodities_monthly.xlsx"</span>,</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>                             <span class="at">sheet =</span> <span class="st">"import"</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>merch_dexport_comm <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/sg_merchandise_trade_commodities_monthly.xlsx"</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">sheet =</span> <span class="st">"dexport"</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>merch_rexport_comm <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/sg_merchandise_trade_commodities_monthly.xlsx"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                             <span class="at">sheet =</span> <span class="st">"rexport"</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>merch_trade_by_region <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/merch_trade_by_region.csv"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>trade_type <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Import"</span>, <span class="st">"Domestic Export"</span>, <span class="st">"Re Export"</span>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>df_list <span class="ot">&lt;-</span> <span class="fu">list</span>(merch_import_comm, merch_dexport_comm, merch_rexport_comm)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>transformed_dfs <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(df_list)) {</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  transformed_dfs[[i]] <span class="ot">&lt;-</span> df_list[[i]][, <span class="dv">1</span><span class="sc">:</span><span class="dv">302</span>] <span class="sc">%&gt;%</span>  <span class="co"># Only until Jan 2000</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>Division, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Dollars"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">yearmonth</span>(<span class="fu">as.Date</span>(<span class="fu">paste0</span>(Date, <span class="st">" 01"</span>), <span class="at">format =</span> <span class="st">"%Y %b %d"</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="ot">=</span> trade_type[i])</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>merch_trade_comm <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(transformed_dfs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Showing the top 10 imports</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>top_10_imports <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Division =</span> merch_import_comm[, <span class="dv">1</span>],</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Total =</span> <span class="fu">rowSums</span>(merch_import_comm[, <span class="dv">3</span><span class="sc">:</span><span class="dv">13</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total)) <span class="sc">%&gt;%</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(top_10_imports, <span class="at">caption =</span> <span class="st">"Top 10 Imports by Division"</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Top 10 Imports by Division</caption>
<colgroup>
<col style="width: 89%">
<col style="width: 10%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Division</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Electrical Machinery Apparatus &amp; Appliances Nes &amp; Electrical Parts Thereof</td>
<td style="text-align: center;">152635947</td>
</tr>
<tr class="even">
<td style="text-align: center;">Petroleum &amp; Products &amp; Related Materials</td>
<td style="text-align: center;">99904510</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Office Machines &amp; Automatic Data-Processing Machines</td>
<td style="text-align: center;">35683761</td>
</tr>
<tr class="even">
<td style="text-align: center;">Telecommunications &amp; Sound-Recording &amp; Reproducing Apparatus &amp; Equipment</td>
<td style="text-align: center;">21881157</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Miscellaneous Manufactured Articles Nes</td>
<td style="text-align: center;">17537659</td>
</tr>
<tr class="even">
<td style="text-align: center;">Professional Scientific &amp; Controlling Instruments &amp; Apparatus Nes</td>
<td style="text-align: center;">13063085</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Organic Chemicals</td>
<td style="text-align: center;">9906637</td>
</tr>
<tr class="even">
<td style="text-align: center;">Medicinal &amp; Pharmaceutical Products</td>
<td style="text-align: center;">8253028</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Gas</td>
<td style="text-align: center;">7676251</td>
</tr>
<tr class="even">
<td style="text-align: center;">Essential Oils &amp; Resinoids &amp; Perfume Materials; Toilet Polishing &amp; Cleansing Preparations</td>
<td style="text-align: center;">6707179</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Showing the top 10 domestic exports</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>top_10_dexports <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Division =</span> merch_dexport_comm[, <span class="dv">1</span>],</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Total =</span> <span class="fu">rowSums</span>(merch_dexport_comm[, <span class="dv">3</span><span class="sc">:</span><span class="dv">13</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total)) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(top_10_dexports, <span class="at">caption =</span> <span class="st">"Top 10 Domestic Exports by Division"</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Top 10 Domestic Exports by Division</caption>
<colgroup>
<col style="width: 90%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Division</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Petroleum &amp; Products &amp; Related Materials</td>
<td style="text-align: center;">66725676</td>
</tr>
<tr class="even">
<td style="text-align: center;">Oil Bunkers</td>
<td style="text-align: center;">36518099</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Electrical Machinery Apparatus &amp; Appliances Nes &amp; Electrical Parts Thereof</td>
<td style="text-align: center;">26759504</td>
</tr>
<tr class="even">
<td style="text-align: center;">Professional Scientific &amp; Controlling Instruments &amp; Apparatus Nes</td>
<td style="text-align: center;">13333000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Organic Chemicals</td>
<td style="text-align: center;">12787195</td>
</tr>
<tr class="even">
<td style="text-align: center;">Miscellaneous Manufactured Articles Nes</td>
<td style="text-align: center;">11721623</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Plastics In Primary Forms</td>
<td style="text-align: center;">9382327</td>
</tr>
<tr class="even">
<td style="text-align: center;">Office Machines &amp; Automatic Data-Processing Machines</td>
<td style="text-align: center;">6622158</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Medicinal &amp; Pharmaceutical Products</td>
<td style="text-align: center;">6505025</td>
</tr>
<tr class="even">
<td style="text-align: center;">Essential Oils &amp; Resinoids &amp; Perfume Materials; Toilet Polishing &amp; Cleansing Preparations</td>
<td style="text-align: center;">3715803</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Showing the top 10 re-exports</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>top_10_rexports <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Division =</span> merch_rexport_comm[, <span class="dv">1</span>],</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Total =</span> <span class="fu">rowSums</span>(merch_rexport_comm[, <span class="dv">3</span><span class="sc">:</span><span class="dv">13</span>], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total)) <span class="sc">%&gt;%</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(top_10_rexports, <span class="at">caption =</span> <span class="st">"Top 10 Re-Exports by Division"</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Top 10 Re-Exports by Division</caption>
<colgroup>
<col style="width: 90%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Division</th>
<th style="text-align: center;">Total</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Professional Scientific &amp; Controlling Instruments &amp; Apparatus Nes</td>
<td style="text-align: center;">10128897</td>
</tr>
<tr class="even">
<td style="text-align: center;">Miscellaneous Manufactured Articles Nes</td>
<td style="text-align: center;">9050097</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Essential Oils &amp; Resinoids &amp; Perfume Materials; Toilet Polishing &amp; Cleansing Preparations</td>
<td style="text-align: center;">8714097</td>
</tr>
<tr class="even">
<td style="text-align: center;">Medicinal &amp; Pharmaceutical Products</td>
<td style="text-align: center;">5498607</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Plastics In Primary Forms</td>
<td style="text-align: center;">3687515</td>
</tr>
<tr class="even">
<td style="text-align: center;">Photographic Apparatus Equipment &amp; Supplies &amp; Optical Goods Nes; Watches &amp; Clocks</td>
<td style="text-align: center;">3594048</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Beverages</td>
<td style="text-align: center;">3302949</td>
</tr>
<tr class="even">
<td style="text-align: center;">Manufactures Of Metals Nes</td>
<td style="text-align: center;">2837285</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Petroleum &amp; Products &amp; Related Materials</td>
<td style="text-align: center;">2525066</td>
</tr>
<tr class="even">
<td style="text-align: center;">Iron &amp; Steel</td>
<td style="text-align: center;">2315779</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Data processing - by region</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="ot">&lt;-</span> merch_trade_by_region <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(Region, Continent, <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>),  <span class="co"># Exclude these columns</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"Date"</span>, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"Dollars"</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Date =</span> <span class="fu">yearmonth</span>(<span class="fu">as.Date</span>(<span class="fu">paste0</span>(Date, <span class="st">" 01"</span>), <span class="at">format =</span> <span class="st">"%Y %b %d"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Top merchandise trade by region</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>top_merch_trade_by_country <span class="ot">&lt;-</span> merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Date) <span class="sc">==</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region, Continent) <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Dollars =</span> <span class="fu">sum</span>(Dollars, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span>  </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total_Dollars))</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>top_merch_trade_by_country_20 <span class="ot">&lt;-</span> top_merch_trade_by_country <span class="sc">%&gt;%</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(top_merch_trade_by_country_20, <span class="at">caption =</span> <span class="st">"Top 20 Total Merchandise Trade by Country in 2024"</span>, <span class="at">align =</span> <span class="st">"c"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Top 20 Total Merchandise Trade by Country in 2024</caption>
<thead>
<tr class="header">
<th style="text-align: center;">Region</th>
<th style="text-align: center;">Continent</th>
<th style="text-align: center;">Total_Dollars</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">China</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">170182.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">Malaysia</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">138643.5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">United States</td>
<td style="text-align: center;">America</td>
<td style="text-align: center;">131989.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">Taiwan</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">116787.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Hong Kong</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">78622.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">Indonesia</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">74154.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Korea, Rep Of</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">66818.1</td>
</tr>
<tr class="even">
<td style="text-align: center;">Japan</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">53402.3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Thailand</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">44475.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">India</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">31893.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Viet Nam</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">31670.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">Australia</td>
<td style="text-align: center;">Oceania</td>
<td style="text-align: center;">30305.7</td>
</tr>
<tr class="odd">
<td style="text-align: center;">United Arab Emirates</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">24051.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">Germany</td>
<td style="text-align: center;">Europe</td>
<td style="text-align: center;">22512.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">France</td>
<td style="text-align: center;">Europe</td>
<td style="text-align: center;">21563.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">United Kingdom</td>
<td style="text-align: center;">Europe</td>
<td style="text-align: center;">19257.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Philippines</td>
<td style="text-align: center;">Asia</td>
<td style="text-align: center;">19177.9</td>
</tr>
<tr class="even">
<td style="text-align: center;">Netherlands</td>
<td style="text-align: center;">Europe</td>
<td style="text-align: center;">14068.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Switzerland</td>
<td style="text-align: center;">Europe</td>
<td style="text-align: center;">13726.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">Brazil</td>
<td style="text-align: center;">America</td>
<td style="text-align: center;">11867.7</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Selected regions</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>selected_regions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"China"</span>, <span class="st">"United States"</span>, <span class="st">"Malaysia"</span>, </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"Taiwan"</span>, <span class="st">"Canada"</span>, <span class="st">"Australia"</span>, <span class="st">"Germany"</span>,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"France"</span>, <span class="st">"Korea, Rep Of"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>China, the US, Canada, and Australia were selected due to their involvement in trade tensions following Trump’s tariffs, particularly China, which was the primary target. Canada was affected by steel and aluminum tariffs, while Australia, though largely exempt, remains a key trade partner of the US. Germany and France were included to represent the EU, which faced tariffs on steel and other goods, though the UK, despite higher trade flows, was excluded as it is no longer part of the EU. Malaysia Taiwan and Korea were chosen due to their position among the top few merchandise trade partners of Singapore.</p>
</section>
<section id="time-series-patterns---by-trade-regions" class="level2">
<h2 class="anchored" data-anchor-id="time-series-patterns---by-trade-regions">4.2 Time Series Patterns - By Trade Regions</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Using ggplot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Using autoplot</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>This plot is preferred over using autoplot.</p>
<div class="cell">
<details class="code-fold">
<summary>Plot time series using ggplot</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> <span class="fu">c</span>(Region, <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>), <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Dollars, <span class="at">color =</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Region, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Monthly Merchandise Trade Flow of Selected Countries (2010 - 2024)"</span>,</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Dollars"</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>China, Malaysia, Taiwan, and Korea show strong import growth (green) post-2020, with a sharp peak in imports from Taiwan and Korea between 2022-2023. This aligns with trends in specific merchandise categories like “Electrical Machinery &amp; Parts” and “Gas,” which also spike during the same period (The plot is below). Given Taiwan and Korea’s role in semiconductors and electronics, this surge likely reflects increased demand for electronic components and supply chain adjustments during the post-pandemic recovery.</li>
<li>Re-Exports (blue) have grown for Germany, China, and US, reflecting Singapore’s role as a trade hub.</li>
<li>Domestic exports (red) remain relatively stable across most countries, though China and the US show gradual increases.</li>
<li>The US-China trade war trend isn’t immediately obvious in the chart, as there’s no clear dip or disruption around 2018-2019.</li>
</ul>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>It’s difficult to see because there’s too many points on the legend.</p>
<div class="cell">
<details class="code-fold">
<summary>Using autoplot</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> <span class="fu">c</span>(Region, <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>), <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">%&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>(Dollars) <span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span> Region, <span class="at">scales =</span> <span class="st">"free_y"</span> , <span class="at">ncol =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Monthly Merchandise Trade Flow Selected Countries (2010 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Checking by import category division</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>merch_trade_comm <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Division <span class="sc">%in%</span> top_10_imports<span class="sc">$</span>Division) <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> <span class="fu">c</span>(Division, <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>), <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Dollars, <span class="at">color =</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Division, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Monthly Merchandise Trade Flow of Selected Divisions (2010 - 2024)"</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Date"</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Dollars"</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="1536"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="seasonal-plots" class="level2">
<h2 class="anchored" data-anchor-id="seasonal-plots">4.2 Seasonal Plots</h2>
<p>The plots above don’t seem to show any clear seasonal patterns, but for the sake of the analysis, let’s investigate further.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Imports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Domestic Exports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Re-Exports</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<details class="code-fold">
<summary>seasonality plots</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Import"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">|&gt;</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_season</span>(Dollars, <span class="at">period=</span><span class="st">"year"</span>, <span class="at">labels =</span> <span class="st">"both"</span>) <span class="sc">+</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Seasonal Plot: Monthly Merchandise Imports of Selected Countries (2015 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details class="code-fold">
<summary>seasonality plots</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Domestic Export"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">|&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">|&gt;</span> </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_season</span>(Dollars, <span class="at">period=</span><span class="st">"year"</span>, <span class="at">labels =</span> <span class="st">"both"</span>) <span class="sc">+</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Seasonal Plot: Monthly Merchandise Domestic Exports of Selected Countries (2015 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<details class="code-fold">
<summary>seasonality plots</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">|&gt;</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Re-Export"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">|&gt;</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">|&gt;</span> </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_season</span>(Dollars, <span class="at">period=</span><span class="st">"year"</span>, <span class="at">labels =</span> <span class="st">"both"</span>) <span class="sc">+</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Seasonal Plot: Monthly Merchandise Re-Exports of Selected Countries (2015 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Imports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Domestic Exports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Re-Exports</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details class="code-fold">
<summary>seasonality subseries</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Import"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">|&gt;</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_subseries</span>(Dollars) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Subseries: Monthly Merchandise Imports of Selected Countries (2015 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>February appears to be the month with the lowest imports, with China showing the most noticeable dip, possibly due to the Chinese New Year, followed by the United States. However, overall, the mean import values seem relatively stable, indicating no significant differences in the average across the months. Regarding the trend, imports generally show an upward trajectory, though there was a noticeable dip in 2020 across most regions, likely due to the impact of the pandemic.</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details class="code-fold">
<summary>seasonality subseries</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">|&gt;</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Domestic Export"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">|&gt;</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_subseries</span>(Dollars) <span class="sc">+</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Subseries: Monthly Merchandise Domestic Exports of Selected Countries (2015 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>For domestic exports, the trends are less clear, though there are occasional spikes throughout the period.</p>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell">
<details class="code-fold">
<summary>seasonality subseries</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Re-Export"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2014</span>) <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">|&gt;</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">%in%</span> selected_regions) <span class="sc">|&gt;</span> </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_subseries</span>(Dollars) <span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Subseries: Monthly Merchandise Re-Exports of Selected Countries (2015 - 2024)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Overall, re-exports remain stable, with a noticeable upward trend in the US for Singapore’s re-exports. In Australia, March and December appear to have the highest re-export levels.</p>
</div>
</div>
</div>
</section>
<section id="scatterplots" class="level2">
<h2 class="anchored" data-anchor-id="scatterplots">4.3 Scatterplots</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Imports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Domestic Exports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Re-Exports</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<details class="code-fold">
<summary>scatter pairplots</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Import"</span> <span class="sc">&amp;</span> Region <span class="sc">%in%</span> selected_regions <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Continent, <span class="sc">-</span><span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">values_from =</span> Dollars, <span class="at">names_from =</span> Region) <span class="sc">%&gt;%</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<details class="code-fold">
<summary>scatter pairplots</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Domestic Export"</span> <span class="sc">&amp;</span> Region <span class="sc">%in%</span> selected_regions <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Continent, <span class="sc">-</span><span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">values_from =</span> Dollars, <span class="at">names_from =</span> Region) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<div class="cell">
<details class="code-fold">
<summary>scatter pairplots</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Re-Export"</span> <span class="sc">&amp;</span> Region <span class="sc">%in%</span> selected_regions <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Continent, <span class="sc">-</span><span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">values_from =</span> Dollars, <span class="at">names_from =</span> Region) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  GGally<span class="sc">::</span><span class="fu">ggpairs</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="lag-plots" class="level2">
<h2 class="anchored" data-anchor-id="lag-plots">4.4 Lag plots</h2>
<div class="cell">
<details class="code-fold">
<summary>lagplots</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Import"</span> <span class="sc">&amp;</span> Region <span class="sc">==</span> <span class="st">"China"</span> <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gg_lag</span>(Dollars, <span class="at">geom =</span> <span class="st">"point"</span>) <span class="sc">+</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"lag(Dollars, k)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="stl-decomposition" class="level2">
<h2 class="anchored" data-anchor-id="stl-decomposition">4.5 STL Decomposition</h2>
<div class="cell">
<details class="code-fold">
<summary>combine exports</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="ot">&lt;-</span> merch_trade_region_long <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((<span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Domestic Export"</span> <span class="sc">|</span> <span class="st">`</span><span class="at">Trade Type</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Re Export"</span>) <span class="sc">&amp;</span> <span class="fu">year</span>(Date) <span class="sc">&gt;</span> <span class="dv">2009</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Region, Date) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Dollars =</span> <span class="fu">sum</span>(Dollars)) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">China</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">US</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false">Taiwan</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false">Germany</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-5" role="tab" aria-controls="tabset-5-5" aria-selected="false">Australia</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-6" role="tab" aria-controls="tabset-5-6" aria-selected="false">Malaysia</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<details class="code-fold">
<summary>STL plots</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"China"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(Dollars <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<details class="code-fold">
<summary>STL plots</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"United States"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(Dollars <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<div class="cell">
<details class="code-fold">
<summary>STL plots</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"Taiwan"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(Dollars <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<div class="cell">
<details class="code-fold">
<summary>STL plots</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"Germany"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(Dollars <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-5-tab">
<div class="cell">
<details class="code-fold">
<summary>STL plots</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"Australia"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(Dollars <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-6-tab">
<div class="cell">
<details class="code-fold">
<summary>STL plots</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>merch_trade_exports_comb <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Region <span class="sc">==</span> <span class="st">"Malaysia"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tsibble</span>(<span class="at">key =</span> Region, <span class="at">index =</span> Date) <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">model</span>(</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">STL</span>(Dollars <span class="sc">~</span> <span class="fu">trend</span>(<span class="at">window =</span> <span class="dv">11</span>) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">season</span>(<span class="at">window =</span> <span class="st">"periodic"</span>),</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">robust =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">components</span>() <span class="sc">|&gt;</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">autoplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="exercise02_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>I’ve combined both domestic exports and re-exports to assess how external trade restrictions, like the Trump tariffs, might affect Singapore’s trade. Since these restrictions are expected to have a larger impact on exports, looking at both gives a clearer understanding of their potential effect on overall trade dynamics.</p>
<p>From the STL plots, we can see that:</p>
<ul>
<li>Exports to the US and China from Singapore show an increasing trend.</li>
<li>Exports to Germany exhibit a decreasing trend.</li>
<li>Exports to the rest of the countries remain relatively stable. There seem to be an up and down trend due to the global economic conditions, but it has mostly gone back up.</li>
<li>Seasonality-wise, most dips are observed in February (as corroborated by the seasonality plots), with the exception of Australia, where the dip spans from December to February.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">4.6 Conclusion</h2>
<p>While there is some seasonality, especially with February showing consistent dips, the overall import and export trend appears positive, with growth in key markets like the US and China. This suggests that, despite some seasonal variations, Singapore’s export situation remains favorable. The observed patterns, including the dips and stable trends, provide valuable insight into how external factors, such as trade restrictions, may influence Singapore’s trade flow. However, the first round of tariffs does not seem to have had a noticeable impact on trade flows. In conclusion, Singapore’s merchandise trade situation appears to be overall positive, with steady growth and stability.</p>
</section>
</section>
<section id="references" class="level1">
<h1>5 References</h1>
<ol type="1">
<li>https://en.wikipedia.org/wiki/First_Trump_tariffs</li>
<li>https://www.singstat.gov.sg/modules/infographics/singapore-international-trade</li>
<li>Lineplot - https://r-graph-gallery.com/web-time-series-and-facetting.html</li>
<li>ggiraph interactivity - https://www.ardata.fr/ggiraph-book/</li>
<li>Slopegraph - https://ibecav.github.io/slopegraph/</li>
<li>Slopegraph plotly - https://stackoverflow.com/questions/72669786/in-r-how-to-use-plotlys-highlight-function-to-activate-a-ggplot-2-graphic-la</li>
<li>Stacked area plot - https://r-graph-gallery.com/web-stacked-area-chart-inline-labels.html</li>
<li>Time series analysis and forecasting - https://otexts.com/fpp3/</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/veeviann-isss608\.netlify\.app");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>